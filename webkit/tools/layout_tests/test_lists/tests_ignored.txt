// These tests will be run (unless skipped), but do not expect ever to pass
// them. They use platform-specific conventions, or features we have decided 
// never to support.

// -----------------------------------------------------------------
// SKIPPED TESTS
// -----------------------------------------------------------------

// XHTML tests.  See bug 793944.  These tests seem like they work, but
// only because the expected output expects to see JS errors.  There is
// no point in running these tests, because they are giving us a false
// sense of testing that isn't really happening.  Furthermore, since they
// appear to pass if we do try to run them, we can't even list them as
// permanently expected to fail.
SKIP : LayoutTests/dom/xhtml = PASS

// We do not want to support Legacy mac encodings on Windows/Linux.
// On Mac, we can support them by building platform/text/mac, but
// probably we don't want there, either.
SKIP : LayoutTests/fast/encoding/char-encoding-mac.html = FAIL

// Fails due to different window.close() rules.  See bug 753420.  We need
// to decide whether we ever expect to pass this.  Now also timing out.
SKIP : LayoutTests/fast/dom/open-and-close-by-DOM.html = FAIL

// Skip because of WebKit bug 18512. These bugs "poison" future tests, causing
// all SVG objects with fill="red" to be rendered in green.
SKIP : LayoutTests/svg/custom/fill-SVGPaint-interface.svg = PASS
SKIP : LayoutTests/svg/custom/getPresentationAttribute.svg = PASS

// WML is still an inprogress feature upstream. Chromium does not build
// with WML support, so skip its tests.
SKIP : LayoutTests/wml = FAIL
SKIP : LayoutTests/http/tests/wml = FAIL

// These tests are based on the JSC JavaScript profiler. The V8 JavaScript
// profiler is in development and will use a different approach than JSC and
// most likely these tests will always be JSC specific.
SKIP : LayoutTests/fast/profiler = FAIL TIMEOUT

// This test doesn't terminate because it contains exponential
// regexps.  It is safe to disable because we run the same tests
// (sans the nonterminating ones) as part of the v8 tests.
SKIP : LayoutTests/fast/regex/test1.html = PASS

// -----------------------------------------------------------------
// FAILING TESTS
// -----------------------------------------------------------------

// Bug: 1137420
// We don't intend to pass all of these cases, so this is an expected fail.
// Window resizing is not implemented in chrome.
LayoutTests/fast/dom/Window/window-resize.html = FAIL

// This test is completely timing dependent.  It is testing the time
// between a key event and a search event.  You cannot count on this
// always being exactly the same, so we allow this to either PASS or FAIL
// but not CRASH or TIMEOUT.
LayoutTests/fast/forms/search-event-delay.html = FAIL PASS

// Chrome uses different keyboard accelerators from those used by Safari, so
// these tests will always fail.
// TODO(pinkerton): these should probably pass on Mac since we want Emacs
// keybindings but they currently do not. 
LayoutTests/editing/pasteboard/emacs-cntl-y-001.html = FAIL
LayoutTests/editing/pasteboard/emacs-ctrl-a-k-y.html = FAIL
LayoutTests/editing/pasteboard/emacs-ctrl-k-y-001.html = FAIL
LayoutTests/editing/input/emacs-ctrl-o.html = FAIL

// These tests check for very kjs-specific garbage collector behavior. Gc-8 
// tests behavior that makes no sense for us to implement. Gc-10 makes sense
// but would have to be implemented much differently to work in v8.
LayoutTests/fast/dom/gc-8.html = FAIL
LayoutTests/fast/dom/gc-10.html = FAIL

// This fails because we're missing various useless apple-specific
// properties on the window object.
// This test also timeouts in Debug mode. See bug 1058654.
LayoutTests/fast/dom/Window/window-properties.html = FAIL TIMEOUT

// Safari specific test to ensure that JavaScript errors aren't logged when in
// private browsing mode.
LayoutTests/http/tests/security/cross-frame-access-private-browsing.html = FAIL

// We don't care about dashboard compatibility mode.
SKIP : LayoutTests/http/tests/xmlhttprequest/default-content-type-dashboard.html = FAIL
SKIP : LayoutTests/http/tests/xmlhttprequest/svg-created-by-xhr-disallowed-in-dashboard.html = FAIL
LayoutTests/svg/custom/embedded-svg-disallowed-in-dashboard.xml = FAIL
LayoutTests/svg/custom/manually-parsed-embedded-svg-disallowed-in-dashboard.html = FAIL
LayoutTests/svg/custom/manually-parsed-svg-disallowed-in-dashboard.html = FAIL
LayoutTests/svg/custom/svg-disallowed-in-dashboard-object.html = FAIL

// Chrome uses different keyboard accelerators from those used by Safari, so
// these tests will always fail.
// TODO(ericroman): can the following 2 tests be removed from this list, since they pass?
LayoutTests/fast/events/keydown-1.html = FAIL
LINUX WIN : LayoutTests/fast/events/option-tab.html = FAIL

// Chrome does not support WebArchives (just like Safari for Windows).
// See bug 761653.
SKIP : LayoutTests/webarchive/loading = FAIL TIMEOUT
LayoutTests/webarchive = PASS
LayoutTests/svg/webarchive = FAIL PASS
LayoutTests/svg/custom/image-with-prefix-in-webarchive.svg = FAIL PASS
SKIP : LayoutTests/http/tests/webarchive = FAIL PASS

// Bug 932737
LayoutTests/webarchive/loading/test-loading-archive.html = TIMEOUT

// Run the Mac-specific platform tests, but only to check for crashes.
LayoutTests/platform/gtk = FAIL PASS
LayoutTests/platform/mac = FAIL PASS TIMEOUT
LayoutTests/platform/mac-leopard = FAIL PASS
LayoutTests/platform/mac-snowleopard = FAIL PASS
LayoutTests/platform/mac-tiger = FAIL PASS
LayoutTests/platform/qt = FAIL PASS
LINUX MAC : LayoutTests/platform/win = FAIL PASS

// Ignored because we do not have OBJC bindings
SKIP : LayoutTests/editing/pasteboard/paste-RTFD.html = FAIL
SKIP : LayoutTests/editing/pasteboard/paste-TIFF.html = FAIL
SKIP : LayoutTests/plugins/jsobjc-dom-wrappers.html = FAIL
SKIP : LayoutTests/plugins/jsobjc-simple.html = FAIL
SKIP : LayoutTests/plugins/root-object-premature-delete-crash.html = FAIL
SKIP : LayoutTests/plugins/throw-on-dealloc.html = FAIL
SKIP : LayoutTests/plugins/undefined-property-crash.html = FAIL

// Uses __apple_runtime_object
SKIP : LayoutTests/plugins/call-as-function-test.html = FAIL

// Ignore test because it tries to load .pdf files in <img> tags.
LINUX WIN : LayoutTests/fast/images/pdf-as-image-landscape.html = FAIL
LINUX WIN : LayoutTests/fast/images/pdf-as-image.html = FAIL
LINUX WIN : LayoutTests/fast/replaced/pdf-as-image.html = FAIL

// This test tries to print a PDF file as the expected result.  I don't think
// we plan on supporting this anytime soon.
SKIP : LayoutTests/printing/media-queries-print.html = PASS

// Bug 853268: Chrome doesn't call the willCacheResponse callback (a method
// of ResourceHandleClient).  That function is Mac-specific.
LayoutTests/http/tests/misc/willCacheResponse-delegate-callback.html = FAIL

// Checks for very kjs-specific garbage collector
// behavior. Gc-9 is completely braindamaged; it tests that certain
// properties are reset by the garbage collector. It looks to pass recently.
LayoutTests/fast/dom/gc-9.html = PASS FAIL

// This test checks that ((new Error()).message is undefined, which is
// a direct contradiction of the javascript spec 15.11.4.3 which
// says that it must be a string.
LayoutTests/fast/js/kde/evil-n.html = FAIL

// This test is broken.  The regular expression used contains an error
// which kjs swallows and returns false, which is the expected result,
// but for which we issue a syntax error.
LayoutTests/fast/js/code-serialize-paren.html = FAIL

// These tests check for a kjs-specific extension, that source file
// name and line numbers are available as properties on exception
// objects.  We handle error positions differently.
LayoutTests/fast/js/exception-linenums-in-html-1.html = FAIL
LayoutTests/fast/js/exception-linenums-in-html-2.html = FAIL
LayoutTests/fast/js/exception-linenums.html = FAIL
LayoutTests/fast/js/exception-expression-offset.html = FAIL

// These tests rely on specific details of decompilation of 
// functions. V8 always returns the source code as written; there's
// no decompilation or pretty printing involved except for
// certain "native" functions where the V8 output does not include
// newline characters. This is working as intended and we don't care
// if the tests pass or fail. 
LayoutTests/fast/js/function-names.html = FAIL PASS

// This test relies on KJS specific implementation
// (window.GCController.getJSObjectCount), which we have no intention of
// supporting.
SKIP : LayoutTests/fast/dom/Window/timeout-released-on-close.html = FAIL

// These tests expect a tiff decoder, which we don't have.
LINUX WIN : LayoutTests/fast/images/embed-image.html = FAIL
LINUX WIN : LayoutTests/fast/images/object-image.html = FAIL

// Safari has a unique handling of the BOM characters among browsers.
// There is a strong suspicion that this is a security problem, so we
// follow the rest of the browsers on this one.
LayoutTests/fast/js/removing-Cf-characters.html = FAIL

// These tests fail in all but the PST/PDT time zone.
// Another reason for failure is that, for compatability, we don't obey
// the ECMA standard on DST exactly.  We use the OS's facilities to
// convert to local time for dates within the UNIX 32-bit epoch,
// and follow the ECMA rules for dates outside that range.
// The ECMA rules say to use current DST rules for all dates,
// and that all dates that are separated by an exact multiple of
// 28 years must behave exactly the same.
// OS local time services are more accurate than this ECMA rule,
// which is a discrepancy.
SKIP : LayoutTests/fast/js/date-DST-time-cusps.html = PASS FAIL
SKIP : LayoutTests/fast/js/date-big-setdate.html = PASS FAIL

// The following tests fail because of difference in how the test shell
// navigation controller tracks navigations as compared to how the Mac
// implementation does it.
LayoutTests/http/tests/history/redirect-200-refresh-0-seconds.pl = FAIL
LayoutTests/http/tests/history/redirect-js-location-replace-0-seconds.html = FAIL
LayoutTests/http/tests/history/redirect-js-location-replace-2-seconds.html = FAIL
LayoutTests/http/tests/history/redirect-js-location-replace-before-load.html = FAIL
LayoutTests/http/tests/history/redirect-meta-refresh-0-seconds.html = FAIL
LayoutTests/http/tests/history/redirect-js-form-submit-before-load.html = FAIL

// This test expects weird behavior of __defineGetter__ on the
// window object.  It expects variables introduced with 'var x = value'
// to behave differently from variables introduced with 'y = value'.
// This just seems wrong and should have very low priority.
// Agreed, not required for Beta, we can debate this with WebKit post Beta, (eseidel, 4/25)
// Ignore this until we see evidence that we need to support it.
LayoutTests/fast/dom/getter-on-window-object2.html = FAIL

// V8 doesn't stable sort and we currently have no intention of
// changing this. It is tracked by:
// http://code.google.com/p/v8/issues/detail?id=90
LayoutTests/fast/js/comparefn-sort-stability.html = FAIL
LayoutTests/fast/js/sort-stability.html = FAIL

// We have no indication that anyone misses this and have currently no
// intention of implementing it.
LayoutTests/fast/js/function-dot-arguments.html = FAIL

// This is a Safari specific test used to document the set of global
// constructors they expose and the exact way they are printed.  Not
// important.
LayoutTests/fast/js/global-constructors.html = FAIL

// This test is not reliable.  The behavior depends on exactly how the
// stack limit is reached.  We're happy with our behavior on this test
// as long as we don't crash.
LayoutTests/fast/js/global-recursion-on-full-stack.html = FAIL PASS

// -----------------------------------------------------------------
// CHROME REWRITTEN TESTS
// -----------------------------------------------------------------

// These tests have been rewritten, with the original being ignored,
// because they were written in ways which are not cross-browser.
// (e.g. they expect implementation-dependent strings in output)
LayoutTests/fast/js/date-proto-generic-invocation.html = FAIL
LayoutTests/fast/js/kde/function.html = FAIL
LayoutTests/fast/js/kde/inbuilt_function_tostring.html = FAIL

// These tests have been rewritten, with the original being ignored,
// because they rely on being able to shadow the 'top' variable on the
// global object.  For security we disallow shadowing of top.
LayoutTests/editing/selection/click-before-and-after-table.html = FAIL

// Bug 849085: we're taking a different approach on this test than 
// Webkit does.
SKIP : LayoutTests/plugins/get-url-with-blank-target.html = FAIL

// This test doesn't work on the bbot.  Works locally.
SKIP : chrome/http/tests/plugins/get-file-url.html = FAIL PASS TIMEOUT

// Dashboard-related test
SKIP : LayoutTests/platform/mac/fast/css/dashboard-region-parser.html = FAIL

// Not a test?
SKIP : LayoutTests/http/tests/incremental/pause-in-script-element.pl = FAIL

// This fails because it requests bold+italic Impact faces, which don't exist.
// Our simulation of them differs in metrics from Windows's simulation and
// this is probably not worth the effort to fix.
LINUX : chrome/fonts/impact.html = FAIL

// This test times out.  It is testing arbitrary limits on the sizes
// of regular expressions.  We handle larger regular expressions than
// JSCRE, but it takes a long time to run this test because it
// repeatedly creates big regular expressions.  All the test is trying
// to verify is that we don't crash on this page.
LayoutTests/fast/js/regexp-charclass-crash.html = PASS TIMEOUT

// This tests for an arbitrary limit set in JSCRE to terminate regular
// expressions with an exponential matching behavior.  Since the V8 
// regular expression engine can be preempted from the outside, we do not
// need to limit the execution this way.  Firefox also keeps running
// on this one. 
LayoutTests/fast/regex/slow.html = TIMEOUT

// This test contains expressions with exponential matching 
// behavior on which JSCRE terminate the matching before it is done.  We
// do not and the test therefore takes a long time to run.
LayoutTests/fast/regex/test1.html = TIMEOUT

// Test to verify legacy MAC encodings. We don't want to support them and
// have to skip this test.
SKIP : LayoutTests/fast/encoding/char-decoding-mac.html = FAIL

// WebKit QT Build-specific tests
SKIP : LayoutTests/platform/qt/view/fixed-layout-size.html = FAIL

// These don't have pixel results and rely on ObjC bindings. Don't run until they have pixel results.
SKIP : LayoutTests/platform/mac/editing/pasteboard/dataTransfer-set-data-file-url.html = FAIL
SKIP : LayoutTests/http/tests/security/dataTransfer-set-data-file-url.html = FAIL

// Bug 5053: The issue is which global object to use as the implicit
// receiver for cross-frame calls.  Currently, IE, Firefox and Chrome
// agree and only Safari is doing it this way.
LayoutTests/fast/frames/cross-site-this.html = FAIL

// This tests a Safari incompatibility.  This test should fail since
// it contains syntax errors that JSC for some reason choose not to
// throw.  V8 follows the spec.
LayoutTests/fast/js/reparsing-semicolon-insertion.html = FAIL

// These tests relate to transform/3d which is a work in progress and is not
// even run by the WebKit folk. They should be enabled whenever WebKit begins
// testing them by default. The bug to re-enable is:
// http://code.google.com/p/chromium/issues/detail?id=8455
SKIP : LayoutTests/transforms/3d = FAIL
