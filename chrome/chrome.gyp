# Copyright (c) 2009 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

{
  'variables': {
    'chromium_code': 1,
  },
  'includes': [
    '../build/common.gypi',
  ],
  'target_defaults': {
    'sources/': [
      ['exclude', '/(cocoa|gtk)/'],
      ['exclude', '_(cocoa|gtk|linux|mac|posix|skia|win|x)\\.(cc|mm?)$'],
      ['exclude', '/(win|x11)_[^/]*\\.cc$'],
    ],
    'conditions': [
      ['OS=="linux"', {'sources/': [
        ['include', '/gtk/'],
        ['include', '_(gtk|linux|posix|skia|x)\\.cc$'],
        ['include', '/x11_[^/]*\\.cc$'],
      ]}],
      ['OS=="mac"', {'sources/': [
        ['include', '/cocoa/'],
        ['include', '_(cocoa|mac|posix)\\.(cc|mm?)$'],
      ]}, { # else: OS != "mac"
        'sources/': [
          ['exclude', '\\.mm?$'],
        ],
      }],
      ['OS=="win"', {'sources/': [
        ['include', '_(win)\\.cc$'],
        ['include', '/win_[^/]*\\.cc$'],
      ]}],
    ],
  },
  'targets': [
    {
      # TODO(mark): It would be better if each static library that needed
      # to run grit would list its own .grd files, but unfortunately some
      # of the static libraries currently have circular dependencies among
      # generated headers.
      'target_name': 'resources',
      'type': 'none',
      'rules': [
        {
          'rule_name': 'grit',
          'extension': 'grd',
          'inputs': [
            '../tools/grit/grit.py',
          ],
          'outputs': [
            '<(SHARED_INTERMEDIATE_DIR)/chrome/grit/<(RULE_INPUT_ROOT).h',
          ],
          'action': ['python', '<@(_inputs)', '-i', '<(RULE_INPUT_PATH)', 'build', '-o', '<(SHARED_INTERMEDIATE_DIR)/chrome'],
          'message': 'Generating resources from <(RULE_INPUT_PATH)',
        },
      ],
      'sources': [
        # All .grd files under chrome.
        'app/resources/locale_settings.grd',
        'app/theme/theme_resources.grd',
        'app/chromium_strings.grd',
        'app/generated_resources.grd',
        'app/google_chrome_strings.grd',
        'browser/debugger/resources/debugger_resources.grd',
        'browser/browser_resources.grd',
        'common/common_resources.grd',
        'renderer/renderer_resources.grd',
      ],
      'direct_dependent_settings': {
        'include_dirs': [
          '<(SHARED_INTERMEDIATE_DIR)/chrome',
        ],
      },
    },
    {
      'target_name': 'common',
      'type': 'static_library',
      'dependencies': [
        'resources',
        '../base/base.gyp:base',
        '../base/base.gyp:base_gfx',
        '../build/temp_gyp/googleurl.gyp:googleurl',
        '../net/net.gyp:net',
        '../skia/skia.gyp:skia',
        '../third_party/icu38/icu38.gyp:icui18n',
        '../third_party/icu38/icu38.gyp:icuuc',
        '../third_party/libxml/libxml.gyp:libxml',
        '../third_party/zlib/zlib.gyp:zlib',
        '../third_party/npapi/npapi.gyp:npapi',
        '../webkit/webkit.gyp:glue',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        # All .cc, .h, and .mm files under chrome/common except for tests.
        'common/extensions/url_pattern.cc',
        'common/extensions/url_pattern.h',
        'common/extensions/user_script.cc',
        'common/extensions/user_script.h',
        'common/gfx/chrome_canvas.cc',
        'common/gfx/chrome_canvas.h',
        'common/gfx/chrome_canvas_skia.cc',
        'common/gfx/chrome_canvas_win.cc',
        'common/gfx/chrome_font.h',
        'common/gfx/chrome_font_gtk.cc',
        'common/gfx/chrome_font_mac.mm',
        'common/gfx/chrome_font_skia.cc',
        'common/gfx/chrome_font_win.cc',
        'common/gfx/color_utils.cc',
        'common/gfx/color_utils.h',
        'common/gfx/emf.cc',
        'common/gfx/emf.h',
        'common/gfx/favicon_size.h',
        'common/gfx/icon_util.cc',
        'common/gfx/icon_util.h',
        'common/gfx/insets.h',
        'common/gfx/path_gtk.cc',
        'common/gfx/path_win.cc',
        'common/gfx/path.h',
        'common/gfx/text_elider.cc',
        'common/gfx/text_elider.h',
        'common/gfx/utils.h',
        'common/net/cookie_monster_sqlite.cc',
        'common/net/cookie_monster_sqlite.h',
        'common/net/dns.h',
        'common/net/url_request_intercept_job.cc',
        'common/net/url_request_intercept_job.h',
        'common/animation.cc',
        'common/animation.h',
        'common/bindings_policy.h',
        'common/child_process.cc',
        'common/child_process.h',
        'common/child_process_host.cc',
        'common/child_process_host.h',
        'common/child_process_info.cc',
        'common/child_process_info.h',
        'common/child_thread.cc',
        'common/child_thread.h',
        'common/chrome_constants.cc',
        'common/chrome_constants.h',
        'common/chrome_counters.cc',
        'common/chrome_counters.h',
        'common/chrome_paths.cc',
        'common/chrome_paths.h',
        'common/chrome_paths_internal.h',
        'common/chrome_paths_linux.cc',
        'common/chrome_paths_mac.mm',
        'common/chrome_paths_win.cc',
        'common/chrome_plugin_api.h',
        'common/chrome_plugin_lib.cc',
        'common/chrome_plugin_lib.h',
        'common/chrome_plugin_util.cc',
        'common/chrome_plugin_util.h',
        'common/chrome_process_filter.cc',
        'common/chrome_process_filter.h',
        'common/chrome_switches.cc',
        'common/chrome_switches.h',
        'common/classfactory.cc',
        'common/classfactory.h',
        'common/clipboard_service.h',
        'common/common_glue.cc',
        'common/debug_flags.cc',
        'common/debug_flags.h',
        'common/drag_drop_types.cc',
        'common/drag_drop_types.h',
        'common/env_vars.cc',
        'common/env_vars.h',
        'common/file_descriptor_set_posix.cc',
        'common/file_descriptor_set_posix.h',
        'common/filter_policy.h',
        'common/gears_api.h',
        'common/ipc_channel.h',
        'common/ipc_channel_posix.cc',
        'common/ipc_channel_posix.h',
        'common/ipc_channel_proxy.cc',
        'common/ipc_channel_proxy.h',
        'common/ipc_channel_win.cc',
        'common/ipc_channel_win.h',
        'common/ipc_logging.cc',
        'common/ipc_logging.h',
        'common/ipc_message.cc',
        'common/ipc_message.h',
        'common/ipc_message_macros.h',
        'common/ipc_message_utils.cc',
        'common/ipc_message_utils.h',
        'common/ipc_sync_channel.cc',
        'common/ipc_sync_channel.h',
        'common/ipc_sync_message.cc',
        'common/ipc_sync_message.h',
        'common/json_value_serializer.cc',
        'common/json_value_serializer.h',
        'common/jstemplate_builder.cc',
        'common/jstemplate_builder.h',
        'common/l10n_util.cc',
        'common/l10n_util.h',
        'common/l10n_util_win.cc',
        'common/l10n_util_win.h',
        'common/libxml_utils.cc',
        'common/libxml_utils.h',
        'common/logging_chrome.cc',
        'common/logging_chrome.h',
        'common/mach_ipc_mac.h',
        'common/mach_ipc_mac.mm',
        'common/mach_message_source_mac.cc',
        'common/mach_message_source_mac.h',
        'common/main_function_params.h',
        'common/message_router.cc',
        'common/message_router.h',
        'common/modal_dialog_event.h',
        'common/mru_cache.h',
        'common/navigation_types.h',
        'common/native_web_keyboard_event.h',
        'common/native_web_keyboard_event_linux.cc',
        'common/native_web_keyboard_event_mac.mm',
        'common/native_web_keyboard_event_win.cc',
        'common/notification_details.h',
        'common/notification_observer.h',
        'common/notification_registrar.cc',
        'common/notification_registrar.h',
        'common/notification_service.cc',
        'common/notification_service.h',
        'common/notification_source.h',
        'common/notification_type.h',
        'common/os_exchange_data.cc',
        'common/os_exchange_data.h',
        'common/owned_widget_gtk.cc',
        'common/owned_widget_gtk.h',
        'common/page_transition_types.h',
        'common/page_zoom.h',
        'common/platform_util.h',
        'common/platform_util_linux.cc',
        'common/platform_util_mac.mm',
        'common/platform_util_win.cc',
        'common/plugin_messages.h',
        'common/plugin_messages_internal.h',
        'common/pref_member.cc',
        'common/pref_member.h',
        'common/pref_names.cc',
        'common/pref_names.h',
        'common/pref_service.cc',
        'common/pref_service.h',
        'common/process_watcher.cc',
        'common/process_watcher.h',
        'common/property_bag.cc',
        'common/property_bag.h',
        'common/ref_counted_util.h',
        'common/render_messages.h',
        'common/render_messages_internal.h',
        'common/resource_bundle.cc',
        'common/resource_bundle.h',
        'common/resource_bundle_linux.cc',
        'common/resource_bundle_mac.mm',
        'common/resource_bundle_win.cc',
        'common/resource_dispatcher.cc',
        'common/resource_dispatcher.h',
        'common/result_codes.h',
        'common/sandbox_init_wrapper.cc',
        'common/sandbox_init_wrapper.h',
        'common/scoped_vector.h',
        'common/security_filter_peer.cc',
        'common/security_filter_peer.h',
        'common/slide_animation.cc',
        'common/slide_animation.h',
        'common/sqlite_compiled_statement.cc',
        'common/sqlite_compiled_statement.h',
        'common/sqlite_utils.cc',
        'common/sqlite_utils.h',
        'common/stl_util-inl.h',
        'common/task_queue.cc',
        'common/task_queue.h',
        'common/temp_scaffolding_stubs.cc',
        'common/temp_scaffolding_stubs.h',
        'common/throb_animation.cc',
        'common/throb_animation.h',
        'common/thumbnail_score.cc',
        'common/thumbnail_score.h',
        'common/time_format.cc',
        'common/time_format.h',
        'common/transport_dib.h',
        'common/transport_dib_linux.cc',
        'common/transport_dib_mac.cc',
        'common/transport_dib_win.cc',
        'common/unzip.cc',  # Requires zlib directly.
        'common/unzip.h',
        'common/url_constants.cc',
        'common/url_constants.h',
        'common/visitedlink_common.cc',
        'common/visitedlink_common.h',
        'common/win_safe_util.cc',
        'common/win_safe_util.h',
        'common/win_util.cc',
        'common/win_util.h',
        'common/worker_thread_ticker.cc',
        'common/worker_thread_ticker.h',
        'common/x11_util.cc',
        'common/x11_util.h',
        'common/x11_util_internal.h',
        'third_party/xdg_user_dirs/xdg_user_dir_lookup.cc',
      ],
      'direct_dependent_settings': {
        'include_dirs': [
          '..',
        ],
      },
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
        }, { # else: 'OS!="linux"'
          'sources!': [
            'third_party/xdg_user_dirs/xdg_user_dir_lookup.cc',
          ],
        }],
        ['OS=="win"', {
          'include_dirs': [
            'third_party/wtl/include',
          ],
          'sources!': [
            'common/temp_scaffolding_stubs.cc',
            'common/temp_scaffolding_stubs.h',
          ],
        }, { # else: OS != "win"
          'sources!': [
            'common/gfx/emf.cc',
            'common/gfx/icon_util.cc',
            'common/chrome_process_filter.cc',
            'common/classfactory.cc',
            'common/drag_drop_types.cc',
            'common/os_exchange_data.cc',
            'common/process_watcher.cc',
          ],
        }],
      ],
    },
    {
      'target_name': 'browser',
      'type': 'static_library',
      'dependencies': [
        'common',
        'resources',
        '../media/media.gyp:media',
        '../net/net.gyp:net_resources',
        '../skia/skia.gyp:skia',
        '../third_party/icu38/icu38.gyp:icui18n',
        '../third_party/icu38/icu38.gyp:icuuc',
        '../third_party/libxml/libxml.gyp:libxml',
        '../third_party/npapi/npapi.gyp:npapi',
        'third_party/hunspell/hunspell.gyp:hunspell',
        '../webkit/webkit.gyp:glue',
      ],
      'include_dirs': [
        '..',
        '<(INTERMEDIATE_DIR)',
      ],
      'sources': [
        # All .cc, .h, .m, and .mm files under browser except for tests and
        # mocks.
        'browser/alternate_nav_url_fetcher.cc',
        'browser/alternate_nav_url_fetcher.h',
        'browser/app_controller_mac.h',
        'browser/app_controller_mac.mm',
        'browser/app_modal_dialog_queue.cc',
        'browser/app_modal_dialog_queue.h',
        'browser/autocomplete/autocomplete.cc',
        'browser/autocomplete/autocomplete.h',
        'browser/autocomplete/autocomplete_accessibility.cc',
        'browser/autocomplete/autocomplete_accessibility.h',
        'browser/autocomplete/autocomplete_edit.cc',
        'browser/autocomplete/autocomplete_edit.h',
        'browser/autocomplete/autocomplete_edit_view.h',
        'browser/autocomplete/autocomplete_edit_view_gtk.cc',
        'browser/autocomplete/autocomplete_edit_view_gtk.h',
        'browser/autocomplete/autocomplete_edit_view_win.cc',
        'browser/autocomplete/autocomplete_edit_view_win.h',
        'browser/autocomplete/autocomplete_popup_model.cc',
        'browser/autocomplete/autocomplete_popup_model.h',
        'browser/autocomplete/autocomplete_popup_view.h',
        'browser/autocomplete/autocomplete_popup_view_gtk.cc',
        'browser/autocomplete/autocomplete_popup_view_gtk.h',
        'browser/autocomplete/autocomplete_popup_view_win.cc',
        'browser/autocomplete/autocomplete_popup_view_win.h',
        'browser/autocomplete/history_contents_provider.cc',
        'browser/autocomplete/history_contents_provider.h',
        'browser/autocomplete/history_url_provider.cc',
        'browser/autocomplete/history_url_provider.h',
        'browser/autocomplete/keyword_provider.cc',
        'browser/autocomplete/keyword_provider.h',
        'browser/autocomplete/search_provider.cc',
        'browser/autocomplete/search_provider.h',
        'browser/autofill_manager.cc',
        'browser/autofill_manager.h',
        'browser/automation/automation_autocomplete_edit_tracker.h',
        'browser/automation/automation_browser_tracker.h',
        'browser/automation/automation_constrained_window_tracker.h',
        'browser/automation/automation_provider.cc',
        'browser/automation/automation_provider.h',
        'browser/automation/automation_provider_list.cc',
        'browser/automation/automation_provider_list_generic.cc',
        'browser/automation/automation_provider_list_mac.mm',
        'browser/automation/automation_provider_list.h',
        'browser/automation/automation_resource_tracker.cc',
        'browser/automation/automation_resource_tracker.h',
        'browser/automation/automation_tab_tracker.h',
        'browser/automation/automation_window_tracker.h',
        'browser/automation/ui_controls.cc',
        'browser/automation/ui_controls.h',
        'browser/automation/url_request_failed_dns_job.cc',
        'browser/automation/url_request_failed_dns_job.h',
        # TODO:  These should be moved to test_support (see below), but
        # are currently used by production code in automation_provider.cc.
        'browser/automation/url_request_mock_http_job.cc',
        'browser/automation/url_request_mock_http_job.h',
        'browser/automation/url_request_slow_download_job.cc',
        'browser/automation/url_request_slow_download_job.h',
        'browser/back_forward_menu_model.cc',
        'browser/back_forward_menu_model.h',
        'browser/back_forward_menu_model_win.cc',
        'browser/back_forward_menu_model_win.h',
        'browser/bookmarks/bookmark_codec.cc',
        'browser/bookmarks/bookmark_codec.h',
        'browser/bookmarks/bookmark_context_menu.cc',
        'browser/bookmarks/bookmark_context_menu.h',
        'browser/bookmarks/bookmark_drag_data.cc',
        'browser/bookmarks/bookmark_drag_data.h',
        'browser/bookmarks/bookmark_drop_info.cc',
        'browser/bookmarks/bookmark_drop_info.h',
        'browser/bookmarks/bookmark_folder_tree_model.cc',
        'browser/bookmarks/bookmark_folder_tree_model.h',
        'browser/bookmarks/bookmark_html_writer.cc',
        'browser/bookmarks/bookmark_html_writer.h',
        'browser/bookmarks/bookmark_model.cc',
        'browser/bookmarks/bookmark_model.h',
        'browser/bookmarks/bookmark_service.h',
        'browser/bookmarks/bookmark_storage.cc',
        'browser/bookmarks/bookmark_storage.h',
        'browser/bookmarks/bookmark_table_model.cc',
        'browser/bookmarks/bookmark_table_model.h',
        'browser/bookmarks/bookmark_utils.cc',
        'browser/bookmarks/bookmark_utils.h',
        'browser/browser.cc',
        'browser/browser.h',
        'browser/browser_about_handler.cc',
        'browser/browser_about_handler.h',
        'browser/browser_accessibility.cc',
        'browser/browser_accessibility.h',
        'browser/browser_accessibility_manager.cc',
        'browser/browser_accessibility_manager.h',
        'browser/browser_init.cc',
        'browser/browser_init.h',
        'browser/browser_list.cc',
        'browser/browser_list.h',
        'browser/browser_main.cc',
        'browser/browser_main_gtk.cc',
        'browser/browser_main_mac.mm',
        'browser/browser_main_win.cc',
        'browser/browser_main_win.h',
        'browser/browser_prefs.cc',
        'browser/browser_prefs.h',
        'browser/browser_process.cc',
        'browser/browser_process.h',
        'browser/browser_process_impl.cc',
        'browser/browser_process_impl.h',
        'browser/browser_shutdown.cc',
        'browser/browser_shutdown.h',
        'browser/browser_trial.cc',
        'browser/browser_trial.h',
        'browser/browser_url_handler.cc',
        'browser/browser_url_handler.h',
        'browser/browser_window.h',
        'browser/browser_window_factory.mm',
        'browser/browsing_data_remover.cc',
        'browser/browsing_data_remover.h',
        'browser/browsing_instance.cc',
        'browser/browsing_instance.h',
        'browser/cancelable_request.cc',
        'browser/cancelable_request.h',
        'browser/cert_store.cc',
        'browser/cert_store.h',
        'browser/character_encoding.cc',
        'browser/character_encoding.h',
        'browser/chrome_plugin_browsing_context.cc',
        'browser/chrome_plugin_browsing_context.h',
        'browser/chrome_plugin_host.cc',
        'browser/chrome_plugin_host.h',
        'browser/chrome_thread.cc',
        'browser/chrome_thread.h',
        'browser/cocoa/base_view.h',
        'browser/cocoa/base_view.mm',
        'browser/cocoa/bookmark_bar_state_controller.h',
        'browser/cocoa/bookmark_bar_state_controller.mm',
        'browser/cocoa/bookmark_menu_bridge.h',
        'browser/cocoa/bookmark_menu_bridge.mm',
	'browser/cocoa/bookmark_menu_cocoa_controller.h',
	'browser/cocoa/bookmark_menu_cocoa_controller.mm',
        'browser/cocoa/browser_test_helper.h',
        'browser/cocoa/browser_window_cocoa.h',
        'browser/cocoa/browser_window_cocoa.mm',
        'browser/cocoa/browser_window_controller.h',
        'browser/cocoa/browser_window_controller.mm',
        'browser/cocoa/grow_box_view.h',
        'browser/cocoa/grow_box_view.m',
        'browser/cocoa/sad_tab_view.h',
        'browser/cocoa/sad_tab_view.mm',
        'browser/cocoa/shell_dialogs_mac.mm',
        'browser/cocoa/status_bubble_mac.h',
        'browser/cocoa/status_bubble_mac.mm',
        'browser/cocoa/tab_cell.h',
        'browser/cocoa/tab_cell.mm',
        'browser/cocoa/tab_contents_controller.h',
        'browser/cocoa/tab_contents_controller.mm',
        'browser/cocoa/tab_controller.h',
        'browser/cocoa/tab_controller.mm',
        'browser/cocoa/tab_strip_controller.h',
        'browser/cocoa/tab_strip_controller.mm',
        'browser/cocoa/tab_strip_view.h',
        'browser/cocoa/tab_strip_view.mm',
        'browser/cocoa/tab_view.h',
        'browser/cocoa/tab_view.mm',
        'browser/cocoa/tab_window_controller.h',
        'browser/cocoa/tab_window_controller.mm',
        'browser/cocoa/toolbar_button_cell.h',
        'browser/cocoa/toolbar_button_cell.mm',
        'browser/cocoa/toolbar_view.h',
        'browser/cocoa/toolbar_view.mm',
        'browser/command_updater.cc',
        'browser/command_updater.h',
        'browser/cross_site_request_manager.cc',
        'browser/cross_site_request_manager.h',
        'browser/debugger/debugger_host.h',
        'browser/debugger/debugger_host_impl.cpp',
        'browser/debugger/debugger_host_impl.h',
        'browser/debugger/debugger_io.h',
        'browser/debugger/debugger_io_socket.cc',
        'browser/debugger/debugger_io_socket.h',
        'browser/debugger/debugger_node.cc',
        'browser/debugger/debugger_node.h',
        'browser/debugger/debugger_shell.cc',
        'browser/debugger/debugger_shell.h',
        'browser/debugger/debugger_shell_stubs.cc',
        'browser/debugger/debugger_view.cc',
        'browser/debugger/debugger_view.h',
        'browser/debugger/debugger_window.cc',
        'browser/debugger/debugger_window.h',
        'browser/debugger/debugger_wrapper.cc',
        'browser/debugger/debugger_wrapper.h',
        'browser/debugger/devtools_client_host.h',
        'browser/debugger/devtools_manager.h',
        'browser/debugger/devtools_manager.cc',
        'browser/debugger/devtools_window.h',
        'browser/debugger/devtools_window_gtk.cc',
        'browser/debugger/devtools_window_mac.cc',
        'browser/debugger/devtools_window_win.cc',
        'browser/debugger/devtools_view.cc',
        'browser/debugger/devtools_view.h',
        'browser/dock_info.cc',
        'browser/dock_info.h',
        'browser/dom_operation_notification_details.h',
        'browser/dom_ui/chrome_url_data_manager.cc',
        'browser/dom_ui/chrome_url_data_manager.h',
        'browser/dom_ui/debugger_ui.cc',
        'browser/dom_ui/debugger_ui.h',
        'browser/dom_ui/devtools_ui.cc',
        'browser/dom_ui/devtools_ui.h',
        'browser/dom_ui/dom_ui.cc',
        'browser/dom_ui/dom_ui.h',
        'browser/dom_ui/dom_ui_factory.cc',
        'browser/dom_ui/dom_ui_factory.h',
        'browser/dom_ui/dom_ui_favicon_source.cc',
        'browser/dom_ui/dom_ui_favicon_source.h',
        'browser/dom_ui/dom_ui_host.cc',
        'browser/dom_ui/dom_ui_host.h',
        'browser/dom_ui/dom_ui_thumbnail_source.cc',
        'browser/dom_ui/dom_ui_thumbnail_source.h',
        'browser/dom_ui/downloads_ui.cc',
        'browser/dom_ui/downloads_ui.h',
        'browser/dom_ui/fileicon_source.cc',
        'browser/dom_ui/fileicon_source.h',
        'browser/dom_ui/history_ui.cc',
        'browser/dom_ui/history_ui.h',
        'browser/dom_ui/html_dialog_contents.cc',
        'browser/dom_ui/html_dialog_contents.h',
        'browser/dom_ui/new_tab_ui.cc',
        'browser/dom_ui/new_tab_ui.h',
        'browser/download/download_exe.cc',
        'browser/download/download_file.cc',
        'browser/download/download_file.h',
        'browser/download/download_item_model.cc',
        'browser/download/download_item_model.h',
        'browser/download/download_manager.cc',
        'browser/download/download_manager.h',
        'browser/download/download_request_dialog_delegate.h',
        'browser/download/download_request_dialog_delegate_win.cc',
        'browser/download/download_request_dialog_delegate_win.h',
        'browser/download/download_request_manager.cc',
        'browser/download/download_request_manager.h',
        'browser/download/download_shelf.cc',
        'browser/download/download_shelf.h',
        'browser/download/download_util.cc',
        'browser/download/download_util.h',
        'browser/download/save_file.cc',
        'browser/download/save_file.h',
        'browser/download/save_file_manager.cc',
        'browser/download/save_file_manager.h',
        'browser/download/save_item.cc',
        'browser/download/save_item.h',
        'browser/download/save_package.cc',
        'browser/download/save_package.h',
        'browser/download/save_types.h',
        'browser/drag_utils.cc',
        'browser/drag_utils.h',
        'browser/encoding_menu_controller_delegate.cc',
        'browser/encoding_menu_controller_delegate.h',
        'browser/extensions/extension.cc',
        'browser/extensions/extension.h',
        'browser/extensions/extension_api_handler.cc',
        'browser/extensions/extension_api_handler.h',
        'browser/extensions/extension_error_reporter.cc',
        'browser/extensions/extension_error_reporter.h',
        'browser/extensions/extension_message_service.cc',
        'browser/extensions/extension_message_service.h',
        'browser/extensions/extension_protocols.cc',
        'browser/extensions/extension_protocols.h',
        'browser/extensions/extension_view.cc',
        'browser/extensions/extension_view.h',
        'browser/extensions/extensions_service.cc',
        'browser/extensions/extensions_service.h',
        'browser/extensions/extensions_ui.cc',
        'browser/extensions/extensions_ui.h',
        'browser/extensions/user_script_master.cc',
        'browser/extensions/user_script_master.h',
        'browser/external_protocol_handler.cc',
        'browser/external_protocol_handler.h',
        'browser/external_tab_container.cc',
        'browser/external_tab_container.h',
        'browser/fav_icon_helper.cc',
        'browser/fav_icon_helper.h',
        'browser/find_bar.h',
        'browser/find_bar_controller.cc',
        'browser/find_bar_controller.h',
        'browser/find_notification_details.h',
        'browser/first_run.cc',
        'browser/first_run.h',
        'browser/gears_integration.cc',
        'browser/gears_integration.h',
        'browser/google_update.cc',
        'browser/google_update.h',
        'browser/google_url_tracker.cc',
        'browser/google_url_tracker.h',
        'browser/google_util.cc',
        'browser/google_util.h',
        'browser/gtk/back_forward_menu_model_gtk.cc',
        'browser/gtk/back_forward_menu_model_gtk.h',
        'browser/gtk/browser_toolbar_gtk.cc',
        'browser/gtk/browser_toolbar_gtk.h',
        'browser/gtk/browser_window_factory_gtk.cc',
        'browser/gtk/browser_window_gtk.cc',
        'browser/gtk/browser_window_gtk.h',
        'browser/gtk/custom_button.cc',
        'browser/gtk/custom_button.h',
        'browser/gtk/dialogs_gtk.cc',
        'browser/gtk/download_item_gtk.cc',
        'browser/gtk/download_item_gtk.h',
        'browser/gtk/download_shelf_gtk.cc',
        'browser/gtk/download_shelf_gtk.h',
        'browser/gtk/find_bar_gtk.cc',
        'browser/gtk/find_bar_gtk.h',
        'browser/gtk/location_bar_view_gtk.cc',
        'browser/gtk/location_bar_view_gtk.h',
        'browser/gtk/menu_gtk.cc',
        'browser/gtk/menu_gtk.h',
        'browser/gtk/nine_box.cc',
        'browser/gtk/nine_box.h',
        'browser/gtk/standard_menus.cc',
        'browser/gtk/standard_menus.h',
        'browser/gtk/status_bubble_gtk.cc',
        'browser/gtk/status_bubble_gtk.h',
        'browser/gtk/tab_contents_container_gtk.cc',
        'browser/gtk/tab_contents_container_gtk.h',
        'browser/gtk/tab_strip_gtk.cc',
        'browser/gtk/tab_strip_gtk.h',
        'browser/hang_monitor/hung_plugin_action.cc',
        'browser/hang_monitor/hung_plugin_action.h',
        'browser/hang_monitor/hung_window_detector.cc',
        'browser/hang_monitor/hung_window_detector.h',
        'browser/history/archived_database.cc',
        'browser/history/archived_database.h',
        'browser/history/download_database.cc',
        'browser/history/download_database.h',
        'browser/history/download_types.h',
        'browser/history/expire_history_backend.cc',
        'browser/history/expire_history_backend.h',
        'browser/history/history.cc',
        'browser/history/history.h',
        'browser/history/history_backend.cc',
        'browser/history/history_backend.h',
        'browser/history/history_database.cc',
        'browser/history/history_database.h',
        'browser/history/history_marshaling.h',
        'browser/history/history_notifications.h',
        'browser/history/history_publisher.cc',
        'browser/history/history_publisher.h',
        'browser/history/history_publisher_none.cc',
        'browser/history/history_publisher_win.cc',
        'browser/history/history_types.cc',
        'browser/history/history_types.h',
        'browser/history/in_memory_database.cc',
        'browser/history/in_memory_database.h',
        'browser/history/in_memory_history_backend.cc',
        'browser/history/in_memory_history_backend.h',
        'browser/history/page_usage_data.cc',
        'browser/history/page_usage_data.h',
        'browser/history/query_parser.cc',
        'browser/history/query_parser.h',
        'browser/history/snippet.cc',
        'browser/history/snippet.h',
        'browser/history/starred_url_database.cc',
        'browser/history/starred_url_database.h',
        'browser/history/text_database.cc',
        'browser/history/text_database.h',
        'browser/history/text_database_manager.cc',
        'browser/history/text_database_manager.h',
        'browser/history/thumbnail_database.cc',
        'browser/history/thumbnail_database.h',
        'browser/history/url_database.cc',
        'browser/history/url_database.h',
        'browser/history/visit_database.cc',
        'browser/history/visit_database.h',
        'browser/history/visit_tracker.cc',
        'browser/history/visit_tracker.h',
        'browser/history/visitsegment_database.cc',
        'browser/history/visitsegment_database.h',
        'browser/icon_loader.cc',
        'browser/icon_loader.h',
        'browser/icon_manager.cc',
        'browser/icon_manager.h',
        'browser/ime_input.cc',
        'browser/ime_input.h',
        'browser/importer/firefox2_importer.cc',
        'browser/importer/firefox2_importer.h',
        'browser/importer/firefox3_importer.cc',
        'browser/importer/firefox3_importer.h',
        'browser/importer/firefox_importer_utils.cc',
        'browser/importer/firefox_importer_utils.h',
        'browser/importer/firefox_profile_lock.cc',
        'browser/importer/firefox_profile_lock.h',
        'browser/importer/firefox_profile_lock_posix.cc',
        'browser/importer/firefox_profile_lock_win.cc',
        'browser/importer/ie_importer.cc',
        'browser/importer/ie_importer.h',
        'browser/importer/importer.cc',
        'browser/importer/importer.h',
        'browser/importer/mork_reader.cc',
        'browser/importer/mork_reader.h',
        'browser/jankometer.cc',
        'browser/jankometer.h',
        'browser/js_before_unload_handler.h',
        'browser/js_before_unload_handler_win.cc',
        'browser/js_before_unload_handler_win.h',
        'browser/jsmessage_box_handler.h',
        'browser/jsmessage_box_handler_win.cc',
        'browser/jsmessage_box_handler_win.h',
        'browser/load_from_memory_cache_details.h',
        'browser/load_notification_details.h',
        'browser/location_bar.h',
        'browser/login_prompt.cc',
        'browser/login_prompt.h',
        'browser/memory_details.cc',
        'browser/memory_details.h',
        'browser/meta_table_helper.cc',
        'browser/meta_table_helper.h',
        'browser/metrics/metrics_log.cc',
        'browser/metrics/metrics_log.h',
        'browser/metrics/metrics_response.cc',
        'browser/metrics/metrics_response.h',
        'browser/metrics/metrics_service.cc',
        'browser/metrics/metrics_service.h',
        'browser/metrics/user_metrics.cc',
        'browser/metrics/user_metrics.h',
        'browser/modal_html_dialog_delegate.cc',
        'browser/modal_html_dialog_delegate.h',
        'browser/net/chrome_url_request_context.cc',
        'browser/net/chrome_url_request_context.h',
        'browser/net/dns_global.cc',
        'browser/net/dns_global.h',
        'browser/net/dns_host_info.cc',
        'browser/net/dns_host_info.h',
        'browser/net/dns_master.cc',
        'browser/net/dns_master.h',
        'browser/net/referrer.cc',
        'browser/net/referrer.h',
        'browser/net/resolve_proxy_msg_helper.cc',
        'browser/net/resolve_proxy_msg_helper.h',
        'browser/net/sdch_dictionary_fetcher.cc',
        'browser/net/sdch_dictionary_fetcher.h',
        'browser/net/url_fetcher.cc',
        'browser/net/url_fetcher.h',
        'browser/net/url_fetcher_protect.cc',
        'browser/net/url_fetcher_protect.h',
        'browser/net/url_fixer_upper.cc',
        'browser/net/url_fixer_upper.h',
        'browser/options_window.h',
        'browser/page_state.cc',
        'browser/page_state.h',
        'browser/password_manager/encryptor.cc',
        'browser/password_manager/encryptor.h',
        'browser/password_manager/ie7_password.cc',
        'browser/password_manager/ie7_password.h',
        'browser/password_manager/password_form_manager.cc',
        'browser/password_manager/password_form_manager.h',
        'browser/password_manager/password_form_manager_win.cc',
        'browser/password_manager/password_manager.cc',
        'browser/password_manager/password_manager.h',
        'browser/plugin_installer.cc',
        'browser/plugin_installer.h',
        'browser/plugin_process_host.cc',
        'browser/plugin_process_host.h',
        'browser/plugin_service.cc',
        'browser/plugin_service.h',
        'browser/printing/page_number.cc',
        'browser/printing/page_number.h',
        'browser/printing/page_overlays.cc',
        'browser/printing/page_overlays.h',
        'browser/printing/page_range.cc',
        'browser/printing/page_range.h',
        'browser/printing/page_setup.cc',
        'browser/printing/page_setup.h',
        'browser/printing/print_job.cc',
        'browser/printing/print_job.h',
        'browser/printing/print_job_manager.cc',
        'browser/printing/print_job_manager.h',
        'browser/printing/print_job_worker.cc',
        'browser/printing/print_job_worker.h',
        'browser/printing/print_job_worker_owner.h',
        'browser/printing/print_settings.cc',
        'browser/printing/print_settings.h',
        'browser/printing/print_view_manager.cc',
        'browser/printing/print_view_manager.h',
        'browser/printing/printed_document.cc',
        'browser/printing/printed_document.h',
        'browser/printing/printed_page.cc',
        'browser/printing/printed_page.h',
        'browser/printing/printed_pages_source.h',
        'browser/printing/printer_query.cc',
        'browser/printing/printer_query.h',
        'browser/printing/win_printing_context.cc',
        'browser/printing/win_printing_context.h',
        'browser/process_singleton.h',
        'browser/process_singleton_linux.cc',
        'browser/process_singleton_win.cc',
        'browser/profile.cc',
        'browser/profile.h',
        'browser/profile_manager.cc',
        'browser/profile_manager.h',
        'browser/renderer_host/async_resource_handler.cc',
        'browser/renderer_host/async_resource_handler.h',
        'browser/renderer_host/audio_renderer_host.cc',
        'browser/renderer_host/audio_renderer_host.h',
        'browser/renderer_host/backing_store.cc',
        'browser/renderer_host/backing_store.h',
        'browser/renderer_host/backing_store_mac.cc',
        'browser/renderer_host/backing_store_win.cc',
        'browser/renderer_host/backing_store_x.cc',
        'browser/renderer_host/browser_render_process_host.cc',
        'browser/renderer_host/browser_render_process_host.h',
        'browser/renderer_host/buffered_resource_handler.cc',
        'browser/renderer_host/buffered_resource_handler.h',
        'browser/renderer_host/cross_site_resource_handler.cc',
        'browser/renderer_host/cross_site_resource_handler.h',
        'browser/renderer_host/download_resource_handler.cc',
        'browser/renderer_host/download_resource_handler.h',
        'browser/renderer_host/download_throttling_resource_handler.cc',
        'browser/renderer_host/download_throttling_resource_handler.h',
        'browser/renderer_host/media_resource_handler.cc',
        'browser/renderer_host/media_resource_handler.h',
        'browser/renderer_host/render_process_host.cc',
        'browser/renderer_host/render_process_host.h',
        'browser/renderer_host/render_view_host.cc',
        'browser/renderer_host/render_view_host.h',
        'browser/renderer_host/render_view_host_delegate.h',
        'browser/renderer_host/render_widget_helper.cc',
        'browser/renderer_host/render_widget_helper.h',
        'browser/renderer_host/render_widget_host.cc',
        'browser/renderer_host/render_widget_host.h',
        'browser/renderer_host/render_widget_host_view.h',
        'browser/renderer_host/render_widget_host_view_gtk.cc',
        'browser/renderer_host/render_widget_host_view_gtk.h',
        'browser/renderer_host/render_widget_host_view_mac.h',
        'browser/renderer_host/render_widget_host_view_mac.mm',
        'browser/renderer_host/render_widget_host_view_win.cc',
        'browser/renderer_host/render_widget_host_view_win.h',
        'browser/renderer_host/renderer_security_policy.cc',
        'browser/renderer_host/renderer_security_policy.h',
        'browser/renderer_host/resource_dispatcher_host.cc',
        'browser/renderer_host/resource_dispatcher_host.h',
        'browser/renderer_host/resource_handler.h',
        'browser/renderer_host/resource_message_filter.cc',
        'browser/renderer_host/resource_message_filter.h',
        'browser/renderer_host/resource_message_filter_gtk.cc',
        'browser/renderer_host/resource_message_filter_mac.mm',
        'browser/renderer_host/resource_message_filter_win.cc',
        'browser/renderer_host/resource_request_details.h',
        'browser/renderer_host/safe_browsing_resource_handler.cc',
        'browser/renderer_host/safe_browsing_resource_handler.h',
        'browser/renderer_host/save_file_resource_handler.cc',
        'browser/renderer_host/save_file_resource_handler.h',
        'browser/renderer_host/sync_resource_handler.cc',
        'browser/renderer_host/sync_resource_handler.h',
        'browser/renderer_host/web_cache_manager.cc',
        'browser/renderer_host/web_cache_manager.h',
        'browser/rlz/rlz.cc',
        'browser/rlz/rlz.h',
        'browser/safe_browsing/bloom_filter.cc',
        'browser/safe_browsing/bloom_filter.h',
        'browser/safe_browsing/chunk_range.cc',
        'browser/safe_browsing/chunk_range.h',
        'browser/safe_browsing/protocol_manager.cc',
        'browser/safe_browsing/protocol_manager.h',
        'browser/safe_browsing/protocol_parser.cc',
        'browser/safe_browsing/protocol_parser.h',
        'browser/safe_browsing/safe_browsing_blocking_page.cc',
        'browser/safe_browsing/safe_browsing_blocking_page.h',
        'browser/safe_browsing/safe_browsing_database.cc',
        'browser/safe_browsing/safe_browsing_database.h',
        'browser/safe_browsing/safe_browsing_database_bloom.cc',
        'browser/safe_browsing/safe_browsing_database_bloom.h',
        'browser/safe_browsing/safe_browsing_service.cc',
        'browser/safe_browsing/safe_browsing_service.h',
        'browser/safe_browsing/safe_browsing_util.cc',
        'browser/safe_browsing/safe_browsing_util.h',
        'browser/sandbox_policy.cc',
        'browser/sandbox_policy.h',
        'browser/search_engines/template_url.cc',
        'browser/search_engines/template_url.h',
        'browser/search_engines/template_url_fetcher.cc',
        'browser/search_engines/template_url_fetcher.h',
        'browser/search_engines/template_url_model.cc',
        'browser/search_engines/template_url_model.h',
        'browser/search_engines/template_url_parser.cc',
        'browser/search_engines/template_url_parser.h',
        'browser/search_engines/template_url_prepopulate_data.cc',
        'browser/search_engines/template_url_prepopulate_data.h',
        'browser/session_startup_pref.cc',
        'browser/session_startup_pref.h',
        'browser/sessions/base_session_service.cc',
        'browser/sessions/base_session_service.h',
        'browser/sessions/session_backend.cc',
        'browser/sessions/session_backend.h',
        'browser/sessions/session_command.cc',
        'browser/sessions/session_command.h',
        'browser/sessions/session_id.cc',
        'browser/sessions/session_id.h',
        'browser/sessions/session_restore.cc',
        'browser/sessions/session_restore.h',
        'browser/sessions/session_service.cc',
        'browser/sessions/session_service.h',
        'browser/sessions/session_types.cc',
        'browser/sessions/session_types.h',
        'browser/sessions/tab_restore_service.cc',
        'browser/sessions/tab_restore_service.h',
        'browser/shell_dialogs.h',
        'browser/shell_integration.cc',
        'browser/shell_integration.h',
        'browser/spellcheck_worditerator.cc',
        'browser/spellcheck_worditerator.h',
        'browser/spellchecker.cc',
        'browser/spellchecker.h',
        'browser/ssl/ssl_blocking_page.cc',
        'browser/ssl/ssl_blocking_page.h',
        'browser/ssl/ssl_error_info.cc',
        'browser/ssl/ssl_error_info.h',
        'browser/ssl/ssl_host_state.cc',
        'browser/ssl/ssl_host_state.h',
        'browser/ssl/ssl_manager.cc',
        'browser/ssl/ssl_manager.h',
        'browser/ssl/ssl_policy.cc',
        'browser/ssl/ssl_policy.h',
        'browser/status_bubble.h',
        'browser/tab_contents/constrained_window.h',
        'browser/tab_contents/infobar_delegate.cc',
        'browser/tab_contents/infobar_delegate.h',
        'browser/tab_contents/interstitial_page.cc',
        'browser/tab_contents/interstitial_page.h',
        'browser/tab_contents/navigation_controller.cc',
        'browser/tab_contents/navigation_controller.h',
        'browser/tab_contents/navigation_entry.cc',
        'browser/tab_contents/navigation_entry.h',
        'browser/tab_contents/page_navigator.h',
        'browser/tab_contents/provisional_load_details.cc',
        'browser/tab_contents/provisional_load_details.h',
        'browser/tab_contents/render_view_context_menu.cc',
        'browser/tab_contents/render_view_context_menu.h',
        'browser/tab_contents/render_view_context_menu_gtk.cc',
        'browser/tab_contents/render_view_context_menu_gtk.h',
        'browser/tab_contents/render_view_context_menu_mac.mm',
        'browser/tab_contents/render_view_context_menu_mac.h',
        'browser/tab_contents/render_view_context_menu_win.cc',
        'browser/tab_contents/render_view_context_menu_win.h',
        'browser/tab_contents/render_view_host_manager.cc',
        'browser/tab_contents/render_view_host_manager.h',
        'browser/tab_contents/repost_form_warning.h',
        'browser/tab_contents/security_style.h',
        'browser/tab_contents/site_instance.cc',
        'browser/tab_contents/site_instance.h',
        'browser/tab_contents/tab_contents.cc',
        'browser/tab_contents/tab_contents.h',
        'browser/tab_contents/tab_contents_delegate.h',
        'browser/tab_contents/tab_contents_factory.cc',
        'browser/tab_contents/tab_contents_factory.h',
        'browser/tab_contents/tab_contents_type.h',
        'browser/tab_contents/tab_util.cc',
        'browser/tab_contents/tab_util.h',
        'browser/tab_contents/web_contents.cc',
        'browser/tab_contents/web_contents.h',
        'browser/tab_contents/web_contents_view.cc',
        'browser/tab_contents/web_contents_view.h',
        'browser/tab_contents/web_contents_view_gtk.cc',
        'browser/tab_contents/web_contents_view_gtk.h',
        'browser/tab_contents/web_contents_view_mac.h',
        'browser/tab_contents/web_contents_view_mac.mm',
        'browser/tab_contents/web_contents_view_win.cc',
        'browser/tab_contents/web_contents_view_win.h',
        'browser/tab_contents/web_drag_source.cc',
        'browser/tab_contents/web_drag_source.h',
        'browser/tab_contents/web_drop_target.cc',
        'browser/tab_contents/web_drop_target.h',
        'browser/tabs/tab_strip_model.cc',
        'browser/tabs/tab_strip_model.h',
        'browser/tabs/tab_strip_model_order_controller.cc',
        'browser/tabs/tab_strip_model_order_controller.h',
        'browser/task_manager.cc',
        'browser/task_manager.h',
        'browser/task_manager_resource_providers.cc',
        'browser/task_manager_resource_providers.h',
        'browser/toolbar_model.cc',
        'browser/toolbar_model.h',
        'browser/user_data_manager.cc',
        'browser/user_data_manager.h',
        'browser/view_ids.h',
        'browser/views/about_chrome_view.cc',
        'browser/views/about_chrome_view.h',
        'browser/views/about_ipc_dialog.cc',
        'browser/views/about_ipc_dialog.h',
        'browser/views/about_network_dialog.cc',
        'browser/views/about_network_dialog.h',
        'browser/views/blocked_popup_container.cc',
        'browser/views/blocked_popup_container.h',
        'browser/views/bookmark_bar_view.cc',
        'browser/views/bookmark_bar_view.h',
        'browser/views/bookmark_bubble_view.cc',
        'browser/views/bookmark_bubble_view.h',
        'browser/views/bookmark_editor_view.cc',
        'browser/views/bookmark_editor_view.h',
        'browser/views/bookmark_folder_tree_view.cc',
        'browser/views/bookmark_folder_tree_view.h',
        'browser/views/bookmark_manager_view.cc',
        'browser/views/bookmark_manager_view.h',
        'browser/views/bookmark_table_view.cc',
        'browser/views/bookmark_table_view.h',
        'browser/views/bug_report_view.cc',
        'browser/views/bug_report_view.h',
        'browser/views/clear_browsing_data.cc',
        'browser/views/clear_browsing_data.h',
        'browser/views/constrained_window_impl.cc',
        'browser/views/constrained_window_impl.h',
        'browser/views/dom_view.cc',
        'browser/views/dom_view.h',
        'browser/views/download_item_view.cc',
        'browser/views/download_item_view.h',
        'browser/views/download_shelf_view.cc',
        'browser/views/download_shelf_view.h',
        'browser/views/download_started_animation.cc',
        'browser/views/download_started_animation.h',
        'browser/views/edit_keyword_controller.cc',
        'browser/views/edit_keyword_controller.h',
        'browser/views/event_utils.cc',
        'browser/views/event_utils.h',
        'browser/views/external_protocol_dialog.cc',
        'browser/views/external_protocol_dialog.h',
        'browser/views/fill_layout.cc',
        'browser/views/fill_layout.h',
        'browser/views/find_bar_view.cc',
        'browser/views/find_bar_view.h',
        'browser/views/find_bar_win.cc',
        'browser/views/find_bar_win.h',
        'browser/views/first_run_bubble.cc',
        'browser/views/first_run_bubble.h',
        'browser/views/first_run_customize_view.cc',
        'browser/views/first_run_customize_view.h',
        'browser/views/first_run_view.cc',
        'browser/views/first_run_view.h',
        'browser/views/first_run_view_base.cc',
        'browser/views/first_run_view_base.h',
        'browser/views/frame/browser_frame.cc',
        'browser/views/frame/browser_frame.h',
        'browser/views/frame/browser_view.cc',
        'browser/views/frame/browser_view.h',
        'browser/views/frame/glass_browser_frame_view.cc',
        'browser/views/frame/glass_browser_frame_view.h',
        'browser/views/frame/opaque_browser_frame_view.cc',
        'browser/views/frame/opaque_browser_frame_view.h',
        'browser/views/fullscreen_exit_bubble.cc',
        'browser/views/fullscreen_exit_bubble.h',
        'browser/views/go_button.cc',
        'browser/views/go_button.h',
        'browser/views/html_dialog_view.cc',
        'browser/views/html_dialog_view.h',
        'browser/views/hung_renderer_view.cc',
        'browser/views/hung_renderer_view.h',
        'browser/views/hwnd_html_view.cc',
        'browser/views/hwnd_html_view.h',
        'browser/views/importer_lock_view.cc',
        'browser/views/importer_lock_view.h',
        'browser/views/importer_view.cc',
        'browser/views/importer_view.h',
        'browser/views/importing_progress_view.cc',
        'browser/views/importing_progress_view.h',
        'browser/views/info_bubble.cc',
        'browser/views/info_bubble.h',
        'browser/views/infobars/infobar_container.cc',
        'browser/views/infobars/infobar_container.h',
        'browser/views/infobars/infobars.cc',
        'browser/views/infobars/infobars.h',
        'browser/views/input_window.cc',
        'browser/views/input_window.h',
        'browser/views/keyword_editor_view.cc',
        'browser/views/keyword_editor_view.h',
        'browser/views/location_bar_view.cc',
        'browser/views/location_bar_view.h',
        'browser/views/login_view.cc',
        'browser/views/login_view.h',
        'browser/views/new_profile_dialog.cc',
        'browser/views/new_profile_dialog.h',
        'browser/views/options/advanced_contents_view.cc',
        'browser/views/options/advanced_contents_view.h',
        'browser/views/options/advanced_page_view.cc',
        'browser/views/options/advanced_page_view.h',
        'browser/views/options/content_page_view.cc',
        'browser/views/options/content_page_view.h',
        'browser/views/options/cookies_view.cc',
        'browser/views/options/cookies_view.h',
        'browser/views/options/fonts_languages_window_view.cc',
        'browser/views/options/fonts_languages_window_view.h',
        'browser/views/options/fonts_page_view.cc',
        'browser/views/options/fonts_page_view.h',
        'browser/views/options/general_page_view.cc',
        'browser/views/options/general_page_view.h',
        'browser/views/options/language_combobox_model.cc',
        'browser/views/options/language_combobox_model.h',
        'browser/views/options/languages_page_view.cc',
        'browser/views/options/languages_page_view.h',
        'browser/views/options/options_group_view.cc',
        'browser/views/options/options_group_view.h',
        'browser/views/options/options_page_view.cc',
        'browser/views/options/options_page_view.h',
        'browser/views/options/options_window_view.cc',
        'browser/views/page_info_window.cc',
        'browser/views/page_info_window.h',
        'browser/views/password_manager_exceptions_view.cc',
        'browser/views/password_manager_exceptions_view.h',
        'browser/views/password_manager_view.cc',
        'browser/views/password_manager_view.h',
        'browser/views/repost_form_warning_view.cc',
        'browser/views/repost_form_warning_view.h',
        'browser/views/restart_message_box.cc',
        'browser/views/restart_message_box.h',
        'browser/views/sad_tab_view.cc',
        'browser/views/sad_tab_view.h',
        'browser/views/select_profile_dialog.cc',
        'browser/views/select_profile_dialog.h',
        'browser/views/shelf_item_dialog.cc',
        'browser/views/shelf_item_dialog.h',
        'browser/views/shell_dialogs_win.cc',
        'browser/views/standard_layout.h',
        'browser/views/star_toggle.cc',
        'browser/views/star_toggle.h',
        'browser/views/status_bubble_views.cc',
        'browser/views/status_bubble_views.h',
        'browser/views/tab_contents_container_view.cc',
        'browser/views/tab_contents_container_view.h',
        'browser/views/tab_icon_view.cc',
        'browser/views/tab_icon_view.h',
        'browser/views/tabs/dragged_tab_controller.cc',
        'browser/views/tabs/dragged_tab_controller.h',
        'browser/views/tabs/dragged_tab_view.cc',
        'browser/views/tabs/dragged_tab_view.h',
        'browser/views/tabs/hwnd_photobooth.cc',
        'browser/views/tabs/hwnd_photobooth.h',
        'browser/views/tabs/tab.cc',
        'browser/views/tabs/tab.h',
        'browser/views/tabs/tab_renderer.cc',
        'browser/views/tabs/tab_renderer.h',
        'browser/views/tabs/tab_strip.cc',
        'browser/views/tabs/tab_strip.h',
        'browser/views/theme_helpers.cc',
        'browser/views/theme_helpers.h',
        'browser/views/toolbar_star_toggle.cc',
        'browser/views/toolbar_star_toggle.h',
        'browser/views/toolbar_view.cc',
        'browser/views/toolbar_view.h',
        'browser/views/user_data_dir_dialog.cc',
        'browser/views/user_data_dir_dialog.h',
        'browser/visitedlink_master.cc',
        'browser/visitedlink_master.h',
        'browser/webdata/web_data_service.cc',
        'browser/webdata/web_data_service.h',
        'browser/webdata/web_data_service_win.cc',
        'browser/webdata/web_database.cc',
        'browser/webdata/web_database.h',
        'browser/webdata/web_database_win.cc',
        'browser/window_sizer.cc',
        'browser/window_sizer.h',
        'browser/worker_host/worker_process_host.cc',
        'browser/worker_host/worker_process_host.h',
        'browser/worker_host/worker_service.cc',
        'browser/worker_host/worker_service.h',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
          'sources!': [
            'browser/debugger/debugger_shell_stubs.cc',
            # Windows-specific files.
            'browser/download/download_exe.cc',
            'browser/download/download_util.cc',
          ],
        }],
        ['OS=="mac"', {
          'sources/': [
            # Exclude most of download.
            ['exclude', '^browser/download/'],
            ['include', '^browser/download/download_(file|manager|shelf)\\.cc$'],
            ['include', '^browser/download/download_request_manager\\.cc$'],
            ['include', '^browser/download/download_item_model\\.cc$'],
            ['include', '^browser/download/save_(file(_manager)?|item|package)\\.cc$'],
          ],
          'sources!': [
            'browser/autocomplete/autocomplete_edit.cc',
            'browser/autocomplete/autocomplete_popup_model.cc',
            'browser/automation/automation_provider_list_generic.cc',
            'browser/bookmarks/bookmark_context_menu.cc',
            'browser/bookmarks/bookmark_drop_info.cc',
            'browser/debugger/debugger_shell_stubs.cc',
            'browser/dom_ui/devtools_ui.cc',
            'browser/dom_ui/devtools_ui.h',
          ],
          'sources': [
            # Build the necessary GTM sources
            '../third_party/GTM/AppKit/GTMNSBezierPath+RoundRect.m',
            '../third_party/GTM/AppKit/GTMNSColor+Luminance.m',
            '../third_party/GTM/AppKit/GTMTheme.m',
          ],
          'include_dirs': [
            '../third_party/GTM',
            '../third_party/GTM/AppKit',
          ],
       }],
        ['OS=="win"', {
          'defines': [
            '__STD_C',
            '_CRT_SECURE_NO_DEPRECATE',
            '_SCL_SECURE_NO_DEPRECATE',
          ],
          'include_dirs': [
            'third_party/wtl/include',
          ],
          'dependencies': [
            '../google_update/google_update.gyp:google_update',
            'installer/util/util.gyp:installer_util',
            '../printing/printing.gyp:printing',
          ],
          'sources': [
            # Using built-in rule in vstudio for midl.
            'browser/history/history_indexer.idl',
          ],
          'sources!': [
            'browser/debugger/debugger_shell_stubs.cc',
            'browser/history/history_publisher_none.cc',
          ],
        }, {  # 'OS!="win"
          'sources/': [
            # Exclude all of hang_monitor.
            ['exclude', '^browser/hang_monitor/'],

            # Exclude most of password_manager.
            ['exclude', '^browser/password_manager/'],
            ['include', '^browser/password_manager/password(_form)?_manager\\.cc$'],

            # Exclude most of printing.
            ['exclude', '^browser/printing/'],
            ['include', '^browser/printing/page_(number|range|setup)\\.cc$'],

            # Exclude all of rlz.
            ['exclude', '^browser/rlz/'],

            # Exclude all of views.
            ['exclude', '^browser/views/'],
          ],
          'sources!': [
            'browser/app_modal_dialog_queue.cc',
            'browser/autocomplete/autocomplete_accessibility.cc',
            'browser/automation/ui_controls.cc',
            'browser/browser_accessibility.cc',
            'browser/browser_accessibility_manager.cc',
            'browser/debugger/debugger_view.cc',
            'browser/debugger/debugger_window.cc',
            'browser/debugger/devtools_view.cc',
            'browser/debugger/devtools_view.h',
            'browser/debugger/devtools_window_gtk.cc',
            'browser/debugger/devtools_window_win.cc',
            'browser/dock_info.cc',
            'browser/dom_ui/html_dialog_contents.cc',
            'browser/drag_utils.cc',
            'browser/encoding_menu_controller_delegate.cc',
            'browser/external_tab_container.cc',
            'browser/first_run.cc',
            'browser/google_update.cc',
            'browser/history/history_indexer.idl',
            'browser/history_tab_ui.cc',
            'browser/history_view.cc',
            'browser/icon_loader.cc',
            'browser/icon_manager.cc',
            'browser/ime_input.cc',
            'browser/importer/ie_importer.cc',
            'browser/jankometer.cc',
            'browser/login_prompt.cc',
            'browser/memory_details.cc',
            'browser/modal_html_dialog_delegate.cc',
            'browser/sandbox_policy.cc',
            'browser/shell_integration.cc',
            'browser/tab_contents/render_view_context_menu_controller.cc',
            'browser/tab_contents/web_drag_source.cc',
            'browser/tab_contents/web_drop_target.cc',
            'browser/task_manager.cc',
            'browser/task_manager_resource_providers.cc',
            'browser/window_sizer.cc',
          ],
        }],
      ],
    },
    {
      'target_name': 'renderer',
      'type': 'static_library',
      'dependencies': [
        'common',
        'resources',
        '../skia/skia.gyp:skia',
        '../third_party/icu38/icu38.gyp:icui18n',
        '../third_party/icu38/icu38.gyp:icuuc',
        '../third_party/npapi/npapi.gyp:npapi',
        '../webkit/webkit.gyp:glue',
        '../webkit/webkit.gyp:webkit',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        # All .cc, .h, and .mm files under renderer except tests and mocks.
        'renderer/automation/dom_automation_controller.cc',
        'renderer/automation/dom_automation_controller.h',
        'renderer/extensions/extension_process_bindings.cc',
        'renderer/extensions/extension_process_bindings.h',
        'renderer/extensions/renderer_extension_bindings.cc',
        'renderer/extensions/renderer_extension_bindings.h',
        'renderer/media/audio_renderer_impl.cc',
        'renderer/media/audio_renderer_impl.h',
        'renderer/media/data_source_impl.cc',
        'renderer/media/data_source_impl.h',
        'renderer/media/video_renderer_impl.cc',
        'renderer/media/video_renderer_impl.h',
        'renderer/net/render_dns_master.cc',
        'renderer/net/render_dns_master.h',
        'renderer/net/render_dns_queue.cc',
        'renderer/net/render_dns_queue.h',
        'renderer/about_handler.cc',
        'renderer/about_handler.h',
        'renderer/debug_message_handler.cc',
        'renderer/debug_message_handler.h',
        'renderer/devtools_agent.cc',
        'renderer/devtools_agent.h',
        'renderer/devtools_client.cc',
        'renderer/devtools_client.h',
        'renderer/devtools_messages.h',
        'renderer/devtools_messages_internal.h',
        'renderer/dom_ui_bindings.cc',
        'renderer/dom_ui_bindings.h',
        'renderer/external_host_bindings.cc',
        'renderer/external_host_bindings.h',
        'renderer/external_js_object.cc',
        'renderer/external_js_object.h',
        'renderer/localized_error.cc',
        'renderer/localized_error.h',
        'renderer/plugin_channel_host.cc',
        'renderer/plugin_channel_host.h',
        'renderer/render_process.cc',
        'renderer/render_process.h',
        'renderer/render_thread.cc',
        'renderer/render_thread.h',
        'renderer/render_view.cc',
        'renderer/render_view.h',
        'renderer/render_widget.cc',
        'renderer/render_widget.h',
        'renderer/renderer_glue.cc',
        'renderer/renderer_histogram_snapshots.cc',
        'renderer/renderer_histogram_snapshots.h',
        'renderer/renderer_main.cc',
        'renderer/renderer_main_platform_delegate.h',
        'renderer/renderer_main_platform_delegate_linux.cc',
        'renderer/renderer_main_platform_delegate_mac.mm',
        'renderer/renderer_main_platform_delegate_win.cc',
        'renderer/renderer_webkitclient_impl.cc',
        'renderer/renderer_webkitclient_impl.h',
        'renderer/user_script_slave.cc',
        'renderer/user_script_slave.h',
        'renderer/visitedlink_slave.cc',
        'renderer/visitedlink_slave.h',
        'renderer/webmediaplayer_delegate_impl.cc',
        'renderer/webmediaplayer_delegate_impl.h',
        'renderer/webplugin_delegate_proxy.cc',
        'renderer/webplugin_delegate_proxy.h',
        'renderer/webworker_proxy.cc',
        'renderer/webworker_proxy.h',
      ],
      'link_settings': {
        'mac_bundle_resources': [
          'renderer/renderer.sb',
        ],
      },
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
        }],
        ['OS=="win"', {
          'include_dirs': [
            'third_party/wtl/include',
          ],
          'dependencies': [
            'plugin',
          ],
        },],
        ['OS!="win"', {
          'sources!': [
            'renderer/plugin_channel_host.cc',
            'renderer/webplugin_delegate_proxy.cc',
            'renderer/webworker_proxy.cc',
            'renderer/webworker_proxy.h',
          ],
        },],
      ],
    },
    {
      'target_name': 'app',
      'type': 'executable',
      'mac_bundle': 1,
      'dependencies': [
        'common',
        'browser',
        'renderer',
        '../printing/printing.gyp:printing',
      ],
      'sources': [
        # All .cc, .h, .m, and .mm files under app except for tests.
        'app/breakpad_win.cc',
        'app/breakpad_win.h',
        'app/breakpad_mac.mm',
        'app/breakpad_mac.h',
        'app/chrome_dll_main.cc',
        'app/chrome_dll_resource.h',
        'app/chrome_exe_main.cc',
        'app/chrome_exe_main.mm',
        'app/chrome_exe_main_gtk.cc',
        'app/chrome_exe_resource.h',
        'app/client_util.cc',
        'app/client_util.h',
        'app/google_update_client.cc',
        'app/google_update_client.h',
        'app/keystone_glue.h',
        'app/keystone_glue.m',
        'app/scoped_ole_initializer.h',
      ],
      'mac_bundle_resources': [
        'app/nibs/en.lproj/BrowserWindow.xib',
        'app/nibs/en.lproj/MainMenu.xib',
        'app/nibs/en.lproj/TabContents.xib',
        'app/nibs/en.lproj/TabView.xib',
        'app/theme/back.pdf',
        'app/theme/forward.pdf',
        'app/theme/go.pdf',
        'app/theme/grow_box.png',
        'app/theme/nav.pdf',
        'app/theme/newtab.pdf',
        'app/theme/reload.pdf',
        'app/theme/sadtab.png',
        'app/theme/star.pdf',
        'app/theme/starred.pdf',
        'app/theme/stop.pdf',
        'app/app-Info.plist',
      ],
      # TODO(mark): Come up with a fancier way to do this.  It should only
      # be necessary to list app-Info.plist once, not the three times it is
      # listed here.
      'mac_bundle_resources!': [
        'app/app-Info.plist',
      ],
      'xcode_settings': {
        'INFOPLIST_FILE': 'app/app-Info.plist',
      },
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            'views',
            # Needed for chrome_dll_main.cc #include of gtk/gtk.h
            '../build/linux/system.gyp:gtk',
          ],
          'copies': [
            {
              'destination': '<(PRODUCT_DIR)',
              'files': ['<(INTERMEDIATE_DIR)/repack/chrome.pak'],
            },
            {
              'destination': '<(PRODUCT_DIR)/locales',
              'files': ['<(INTERMEDIATE_DIR)/repack/en-US.pak'],
            },
            {
              'destination': '<(PRODUCT_DIR)/themes',
              'files': ['<(INTERMEDIATE_DIR)/repack/default.pak'],
            },
          ],
        }],
        ['OS=="mac"', {
          # 'branding' is a variable defined in common.gypi
          # (e.g. "Chromium", "Chrome")
          'product_name': '<(branding)',
          'conditions': [
            ['branding=="Chrome"', {
              'mac_bundle_resources': ['app/theme/google_chrome/app.icns'],
              # "bundle_id" is the name of the variable used to replace
              # BUNDLE_ID in Info.plist.
              'variables': {'bundle_id': 'com.google.Chrome'},
            }, {  # else: branding!="Chrome"
              'mac_bundle_resources': ['app/theme/chromium/app.icns'],
              'variables': {'bundle_id': 'org.chromium.Chromium'},
            }],
          ],
          'xcode_settings': {
            # chrome/app/app-Info.plist has a CFBundleIdentifier of BUNDLE_ID,
            # to be replaced by a properly branded bundle ID in Xcode with
            # these settings.
            'INFOPLIST_PREPROCESS': 'YES',
            'INFOPLIST_PREPROCESSOR_DEFINITIONS': ['BUNDLE_ID="<(bundle_id)"'],
          },
        }, { # else: OS != "mac"
          'conditions': [
            ['branding=="Chrome"', {
              'product_name': 'chrome'
            }, {  # else: Branding!="Chrome"
              # TODO:  change to:
              #   'product_name': 'chromium'
              # whenever we convert the rest of the infrastructure
              # (buildbots etc.) to use "gyp -Dbranding=Chrome".
              'product_name': 'chrome'
            }],
          ],
        }],
        ['OS=="linux"', {
          'dependencies': [
            'views',
          ]
        }],
        ['OS=="win"', {
          'include_dirs': [
            'third_party/wtl/include',
          ],
          'dependencies': [
            'views',
            '../breakpad/breakpad.gyp:breakpad_handler',
            '../sandbox/sandbox.gyp:sandbox',
            'worker',
          ],
        },{  # 'OS!="win"
          'variables': {
            'repack_path': '../tools/data_pack/repack.py',
          },
          'actions': [
            {
              'action_name': 'repack_chrome',
              'variables': {
                'pak_inputs': [
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/browser_resources.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/debugger_resources.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/common_resources.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/renderer_resources.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/net/net_resources.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/webkit/webkit_resources.pak',
                ],
              },
              'inputs': [
                '<(repack_path)',
                '<@(pak_inputs)',
              ],
              'outputs': [
                '<(INTERMEDIATE_DIR)/repack/chrome.pak',
              ],
              'action': ['python', '<(repack_path)', '<@(_outputs)', '<@(pak_inputs)'],
              'process_outputs_as_mac_bundle_resources': 1,
            },
            {
              'action_name': 'repack_theme',
              'variables': {
                'pak_inputs': [
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/theme_resources.pak',
                ],
              },
              'inputs': [
                '<(repack_path)',
                '<@(pak_inputs)',
              ],
              'outputs': [
                '<(INTERMEDIATE_DIR)/repack/theme.pak',
              ],
              'action': ['python', '<(repack_path)', '<@(_outputs)', '<@(pak_inputs)'],
              'process_outputs_as_mac_bundle_resources': 1,
              'conditions': [
                ['OS=="linux"', {
                  'outputs=': [
                    '<(INTERMEDIATE_DIR)/repack/default.pak',
                  ]
                }],
              ],
            },
            {
              # TODO(mark): Make this work with more languages than the
              # hardcoded en-US.
              'action_name': 'repack_locale',
              'variables': {
                'pak_inputs': [
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/generated_resources_en-US.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/chromium_strings_en-US.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/chrome/locale_settings_en-US.pak',
                  '<(SHARED_INTERMEDIATE_DIR)/webkit/webkit_strings_en-US.pak',
                ],
              },
              'inputs': [
                '<(repack_path)',
                '<@(pak_inputs)',
              ],
              'conditions': [
                ['OS=="mac"', {
                  'outputs': [
                    '<(INTERMEDIATE_DIR)/repack/en.lproj/locale.pak',
                  ],
                }, {  # else: OS!="mac"
                  'outputs': [
                    '<(INTERMEDIATE_DIR)/repack/en-US.pak',
                  ],
                }],
              ],
              'action': ['python', '<(repack_path)', '<@(_outputs)', '<@(pak_inputs)'],
              'process_outputs_as_mac_bundle_resources': 1,
            },
          ],
          'sources!': [
            'app/chrome_exe_main.cc',
            'app/client_util.cc',
            'app/google_update_client.cc',
          ]
        }],
      ],
    },
    {
      'target_name': 'image_diff',
      'type': 'executable',
      'dependencies': [
        '../base/base.gyp:base',
        '../base/base.gyp:base_gfx',
      ],
      'sources': [
        'tools/test/image_diff/image_diff.cc',
      ],
    },
    {
      # This target contains mocks and test utilities that don't belong in
      # production libraries but are used by more than one test executable.
      'target_name': 'test_support_common',
      'type': 'static_library',
      'dependencies': [
        'browser',
        'common',
        'renderer',
        'resources',
        '../skia/skia.gyp:skia',
        '../testing/gtest.gyp:gtest',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        # TODO:  these should live here but are currently used by
        # production code code in libbrowser (above).
        #'browser/automation/url_request_mock_http_job.cc',
        #'browser/automation/url_request_mock_http_job.h',
        'browser/automation/url_request_mock_net_error_job.cc',
        'browser/automation/url_request_mock_net_error_job.h',
        'browser/renderer_host/mock_render_process_host.cc',
        'browser/renderer_host/mock_render_process_host.h',
        'browser/renderer_host/test_render_view_host.cc',
        'browser/renderer_host/test_render_view_host.h',
        'browser/tab_contents/test_web_contents.cc',
        'browser/tab_contents/test_web_contents.h',
        'common/ipc_test_sink.cc',
        'common/ipc_test_sink.h',
        'renderer/mock_render_process.h',
        'renderer/mock_render_thread.cc',
        'renderer/mock_render_thread.h',
        'test/automation/automation_handle_tracker.cc',
        'test/automation/automation_handle_tracker.h',
        'test/automation/automation_proxy.cc',
        'test/automation/automation_proxy.h',
        'test/automation/browser_proxy.cc',
        'test/automation/browser_proxy.h',
        'test/automation/tab_proxy.cc',
        'test/automation/tab_proxy.h',
        'test/automation/window_proxy.cc',
        'test/automation/window_proxy.h',
        'test/testing_profile.cc',
        'test/testing_profile.h',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
        }],
        ['OS=="win"', {
          'include_dirs': [
            'third_party/wtl/include',
          ],
        }, { # else: OS != "win"
          'sources!': [
            'test/automation/window_proxy.cc',
            'test/automation/window_proxy.h',
          ],
        }],
      ],
    },
    {
      'target_name': 'test_support_ui',
      'type': 'static_library',
      'dependencies': [
        'test_support_common',
        'resources',
        '../skia/skia.gyp:skia',
        '../testing/gtest.gyp:gtest',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        'test/testing_browser_process.h',
        'test/ui/npapi_test_helper.cc',
        'test/ui/npapi_test_helper.h',
        'test/ui/run_all_unittests.cc',
        'test/ui/ui_test.cc',
        'test/ui/ui_test.h',
        'test/ui/ui_test_suite.cc',
        'test/ui/ui_test_suite.h',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
        }],
        ['OS!="win"', {
          'sources!': [
            'test/ui/npapi_test_helper.cc',
          ],
        }],
      ],
    },
    {
      'target_name': 'test_support_unit',
      'type': 'static_library',
      'dependencies': [
        'test_support_common',
        'resources',
        '../skia/skia.gyp:skia',
        '../testing/gtest.gyp:gtest',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        'test/unit/run_all_unittests.cc',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            # Needed for the following #include chain:
            #   test/unit/run_all_unittests.cc
            #   test/unit/chrome_test_suite.h
            #   gtk/gtk.h
            '../build/linux/system.gyp:gtk',
          ],
        }],
      ],
    },
    {
      'target_name': 'ipc_tests',
      'type': 'executable',
      'dependencies': [
        'common',
        'test_support_unit',
        '../base/base.gyp:base',
        '../testing/gtest.gyp:gtest',
      ],
      'sources': [
        'common/ipc_fuzzing_tests.cc',
        'common/ipc_message_unittest.cc',
        'common/ipc_send_fds_test.cc',
        'common/ipc_sync_channel_unittest.cc',
        'common/ipc_sync_message_unittest.cc',
        'common/ipc_sync_message_unittest.h',
        'common/ipc_tests.cc',
        'common/ipc_tests.h',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
        }],
      ],
    },
    {
      'target_name': 'ui_tests',
      'type': 'executable',
      'dependencies': [
        'browser',
        'common',
        'resources',
        'test_support_ui',
        '../base/base.gyp:base',
        '../net/net.gyp:net',
        '../build/temp_gyp/googleurl.gyp:googleurl',
        '../skia/skia.gyp:skia',
        '../testing/gtest.gyp:gtest',
        '../third_party/icu38/icu38.gyp:icui18n',
        '../third_party/icu38/icu38.gyp:icuuc',
        '../third_party/libxml/libxml.gyp:libxml',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        'app/chrome_main_uitest.cc',
        'browser/browser_uitest.cc',
        'browser/crash_recovery_uitest.cc',
        'browser/download/download_uitest.cc',
        'browser/download/save_page_uitest.cc',
        'browser/errorpage_uitest.cc',
        'browser/history/redirect_uitest.cc',
        'browser/iframe_uitest.cc',
        'browser/images_uitest.cc',
        'browser/interstitial_page_uitest.cc',
        'browser/locale_tests_uitest.cc',
        'browser/login_prompt_uitest.cc',
        'browser/metrics/metrics_service_uitest.cc',
        'browser/printing/printing_layout_uitest.cc',
        'browser/printing/printing_test.h',
        'browser/renderer_host/resource_dispatcher_host_uitest.cc',
        'browser/sanity_uitest.cc',
        'browser/session_history_uitest.cc',
        'browser/sessions/session_restore_uitest.cc',
        'browser/ssl/ssl_uitest.cc',
        'browser/tab_contents/view_source_uitest.cc',
        'browser/tab_restore_uitest.cc',
        'browser/unload_uitest.cc',
        'browser/views/find_bar_win_uitest.cc',
        'common/logging_chrome_uitest.cc',
        'common/net/cache_uitest.cc',
        'common/pref_service_uitest.cc',
        'test/accessibility/accessibility_tests.cc',
        'test/accessibility/accessibility_util.cc',
        'test/accessibility/accessibility_util.h',
        'test/accessibility/browser_impl.cc',
        'test/accessibility/browser_impl.h',
        'test/accessibility/constants.h',
        'test/accessibility/keyboard_util.cc',
        'test/accessibility/keyboard_util.h',
        'test/accessibility/registry_util.cc',
        'test/accessibility/registry_util.h',
        'test/accessibility/tab_impl.cc',
        'test/accessibility/tab_impl.h',
        'test/automation/automation_proxy_uitest.cc',
        'test/perf/mem_usage.cc',
        'test/perf/mem_usage.h',
        'test/reliability/page_load_test.cc',
        'test/reliability/page_load_test.h',
        'test/ui/dom_checker_uitest.cc',
        'test/ui/history_uitest.cc',
        'test/ui/inspector_controller_uitest.cc',
        'test/ui/layout_plugin_uitest.cpp',
        'test/ui/npapi_uitest.cpp',
        'test/ui/omnibox_uitest.cc',
        'test/ui/sandbox_uitests.cc',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            'views',
            '../build/linux/system.gyp:gtk',
          ],
          'sources!': [
            # TODO(port)
            'app/chrome_main_uitest.cc',
            'browser/browser_uitest.cc',
            'browser/crash_recovery_uitest.cc',
            'browser/download/download_uitest.cc',
            'browser/download/save_page_uitest.cc',
            'browser/errorpage_uitest.cc',
            'browser/iframe_uitest.cc',
            'browser/interstitial_page_uitest.cc',
            'browser/login_prompt_uitest.cc',
            'browser/metrics/metrics_service_uitest.cc',
            'browser/renderer_host/resource_dispatcher_host_uitest.cc',
            'browser/sessions/session_restore_uitest.cc',
            'browser/tab_contents/view_source_uitest.cc',
            'common/net/cache_uitest.cc',
            'common/pref_service_uitest.cc',
            'test/reliability/page_load_test.cc',
            'test/ui/dom_checker_uitest.cc',
            'test/ui/layout_plugin_uitest.cpp',
            'test/ui/omnibox_uitest.cc',
          ],
        }],
        ['OS=="mac"', {
          # mac tests load the resources from the built app beside the test
          'dependencies': ['app'],
          # Mac doesn't have real ui_tests yet, just a dummy stub that
          # looks like a test.  Since it's not a real ui_test, exclude
          # the sources and just re-use test/unit/run_all_unittests.cc.
          'sources=': [
            'test/unit/run_all_unittests.cc',
          ],
        }],
        ['OS=="win"', {
          'include_dirs': [
            'third_party/wtl/include',
          ],
          'dependencies': [
            '../google_update/google_update.gyp:google_update',
            'views',
          ],
        }, { # else: OS != "win"
          'sources!': [
            # TODO(port)?  (Most of these include windows.h or similar.)
            'browser/history/redirect_uitest.cc',
            'browser/printing/printing_layout_uitest.cc',
            'browser/session_history_uitest.cc',
            'browser/ssl/ssl_uitest.cc',
            'browser/tab_restore_uitest.cc',
            'browser/unload_uitest.cc',
            'browser/views/find_bar_win_uitest.cc',
            'common/logging_chrome_uitest.cc',
            'test/accessibility/accessibility_tests.cc',
            'test/accessibility/accessibility_util.cc',
            'test/accessibility/browser_impl.cc',
            'test/accessibility/keyboard_util.cc',
            'test/accessibility/registry_util.cc',
            'test/accessibility/tab_impl.cc',
            'test/automation/automation_proxy_uitest.cc',
            'test/perf/mem_usage.cc',
            'test/ui/inspector_controller_uitest.cc',
            'test/ui/npapi_uitest.cpp',
            'test/ui/sandbox_uitests.cc',
          ],
        }],
      ],
    },
    {
      'target_name': 'unit_tests',
      'type': 'executable',
      'dependencies': [
        'browser',
        'common',
        'renderer',
        'resources',
        'test_support_unit',
        '../printing/printing.gyp:printing',
        '../webkit/webkit.gyp:webkit',
        '../skia/skia.gyp:skia',
        '../testing/gtest.gyp:gtest',
        '../third_party/icu38/icu38.gyp:icui18n',
        '../third_party/icu38/icu38.gyp:icuuc',
        '../third_party/libxml/libxml.gyp:libxml',
        '../third_party/npapi/npapi.gyp:npapi',
      ],
      'include_dirs': [
        '..',
      ],
      'sources': [
        # All unittests in browser, common, and renderer.
        'browser/autocomplete/autocomplete_unittest.cc',
        'browser/autocomplete/history_contents_provider_unittest.cc',
        'browser/autocomplete/history_url_provider_unittest.cc',
        'browser/autocomplete/keyword_provider_unittest.cc',
        'browser/back_forward_menu_model_unittest.cc',
        'browser/bookmarks/bookmark_drag_data_unittest.cc',
        'browser/bookmarks/bookmark_folder_tree_model_unittest.cc',
        'browser/bookmarks/bookmark_html_writer_unittest.cc',
        'browser/bookmarks/bookmark_model_unittest.cc',
        'browser/bookmarks/bookmark_table_model_unittest.cc',
        'browser/bookmarks/bookmark_utils_unittest.cc',
        'browser/browser_commands_unittest.cc',
        'browser/debugger/devtools_manager_unittest.cc',
        'browser/chrome_thread_unittest.cc',
        # It is safe to list */cocoa/* files in the "common" file list
        # without an explicit exclusion since gyp is smart enough to
        # exclude them from non-Mac builds.
        'browser/cocoa/bookmark_bar_state_controller_unittest.mm',
        'browser/cocoa/bookmark_menu_bridge_unittest.mm',
        'browser/cocoa/bookmark_menu_cocoa_controller_unittest.mm',
        'browser/command_updater_unittest.cc',
        'browser/dom_ui/dom_ui_unittest.cc',
        'browser/download/download_manager_unittest.cc',
        'browser/download/download_request_manager_unittest.cc',
        'browser/download/save_package_unittest.cc',
        'browser/extensions/extension_unittest.cc',
        'browser/extensions/extension_ui_unittest.cc',
        'browser/extensions/extensions_service_unittest.cc',
        'browser/extensions/user_script_master_unittest.cc',
        'browser/google_url_tracker_unittest.cc',
        'browser/history/expire_history_backend_unittest.cc',
        'browser/history/history_backend_unittest.cc',
        'browser/history/history_querying_unittest.cc',
        'browser/history/history_types_unittest.cc',
        'browser/history/history_unittest.cc',
        'browser/history/query_parser_unittest.cc',
        'browser/history/snippet_unittest.cc',
        'browser/history/starred_url_database_unittest.cc',
        'browser/history/text_database_manager_unittest.cc',
        'browser/history/text_database_unittest.cc',
        'browser/history/thumbnail_database_unittest.cc',
        'browser/history/url_database_unittest.cc',
        'browser/history/visit_database_unittest.cc',
        'browser/history/visit_tracker_unittest.cc',
        'browser/importer/firefox_importer_unittest.cc',
        'browser/importer/importer_unittest.cc',
        'browser/login_prompt_unittest.cc',
        'browser/metrics/metrics_log_unittest.cc',
        'browser/metrics/metrics_response_unittest.cc',
        'browser/navigation_controller_unittest.cc',
        'browser/navigation_entry_unittest.cc',
        'browser/net/dns_host_info_unittest.cc',
        'browser/net/dns_master_unittest.cc',
        'browser/net/resolve_proxy_msg_helper_unittest.cc',
        'browser/net/url_fetcher_unittest.cc',
        'browser/net/url_fixer_upper_unittest.cc',
        'browser/password_manager/encryptor_unittest.cc',
        'browser/password_manager/password_form_manager_unittest.cc',
        'browser/printing/page_number_unittest.cc',
        'browser/printing/page_overlays_unittest.cc',
        'browser/printing/page_range_unittest.cc',
        'browser/printing/page_setup_unittest.cc',
        'browser/printing/print_job_unittest.cc',
        'browser/printing/win_printing_context_unittest.cc',
        'browser/profile_manager_unittest.cc',
        'browser/renderer_host/audio_renderer_host_unittest.cc',
        'browser/renderer_host/render_view_host_unittest.cc',
        'browser/renderer_host/render_widget_host_unittest.cc',
        'browser/renderer_host/renderer_security_policy_unittest.cc',
        'browser/renderer_host/resource_dispatcher_host_unittest.cc',
        'browser/renderer_host/web_cache_manager_unittest.cc',
        'browser/rlz/rlz_unittest.cc',
        'browser/safe_browsing/bloom_filter_unittest.cc',
        'browser/safe_browsing/chunk_range_unittest.cc',
        'browser/safe_browsing/protocol_manager_unittest.cc',
        'browser/safe_browsing/protocol_parser_unittest.cc',
        'browser/safe_browsing/safe_browsing_database_unittest.cc',
        'browser/safe_browsing/safe_browsing_util_unittest.cc',
        'browser/search_engines/template_url_model_unittest.cc',
        'browser/search_engines/template_url_parser_unittest.cc',
        'browser/search_engines/template_url_prepopulate_data_unittest.cc',
        'browser/search_engines/template_url_unittest.cc',
        'browser/sessions/session_backend_unittest.cc',
        'browser/sessions/session_service_test_helper.cc',
        'browser/sessions/session_service_test_helper.h',
        'browser/sessions/session_service_unittest.cc',
        'browser/sessions/tab_restore_service_unittest.cc',
        'browser/site_instance_unittest.cc',
        'browser/spellcheck_unittest.cc',
        'browser/tab_contents/web_contents_unittest.cc',
        'browser/tabs/tab_strip_model_unittest.cc',
        'browser/views/bookmark_editor_view_unittest.cc',
        'browser/views/find_bar_win_unittest.cc',
        'browser/views/keyword_editor_view_unittest.cc',
        'browser/visitedlink_unittest.cc',
        'browser/webdata/web_database_unittest.cc',
        'browser/window_sizer_unittest.cc',
        'common/animation_unittest.cc',
        'common/bzip2_unittest.cc',
        'common/chrome_plugin_unittest.cc',
        'common/extensions/url_pattern_unittest.cc',
        'common/extensions/user_script_unittest.cc',
        'common/file_descriptor_set_unittest.cc',
        'common/gfx/chrome_font_unittest.cc',
        'common/gfx/emf_unittest.cc',
        'common/gfx/icon_util_unittest.cc',
        'common/gfx/text_elider_unittest.cc',
        'common/json_value_serializer_unittest.cc',
        'common/l10n_util_unittest.cc',
        'common/mru_cache_unittest.cc',
        'common/net/url_util_unittest.cc',
        'common/notification_service_unittest.cc',
        'common/os_exchange_data_unittest.cc',
        'common/pref_member_unittest.cc',
        'common/pref_service_unittest.cc',
        'common/property_bag_unittest.cc',
        'common/resource_dispatcher_unittest.cc',
        'common/time_format_unittest.cc',
        'common/unzip_unittest.cc',
        'common/win_util_unittest.cc',
        'common/worker_thread_ticker_unittest.cc',
        'renderer/extensions/greasemonkey_api_unittest.cc',
        'renderer/net/render_dns_master_unittest.cc',
        'renderer/net/render_dns_queue_unittest.cc',
        'renderer/render_process_unittest.cc',
        'renderer/render_thread_unittest.cc',
        'renderer/render_view_unittest.cc',
        'renderer/render_widget_unittest.cc',
        'renderer/renderer_main_unittest.cc',
        'test/browser_with_test_window_test.cc',
        'test/browser_with_test_window_test.h',
        'test/in_process_browser_test.cc',
        'test/in_process_browser_test.h',
        'test/test_notification_tracker.cc',
        'test/test_notification_tracker.h',
        'test/test_tab_contents.cc',
        'test/test_tab_contents.h',
        'test/v8_unit_test.cc',
        'test/v8_unit_test.h',
        'views/controls/label_unittest.cc',
        'views/controls/table/table_view_unittest.cc',
        'views/controls/tree/tree_node_iterator_unittest.cc',
        'views/focus/focus_manager_unittest.cc',
        'views/grid_layout_unittest.cc',
        'views/view_unittest.cc',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            'views',
            '../build/linux/system.gyp:gtk',
            '../build/linux/system.gyp:nss',
          ],
        }],
        ['OS=="win"', {
          'defines': [
            '__STD_C',
            '_CRT_SECURE_NO_DEPRECATE',
            '_SCL_SECURE_NO_DEPRECATE',
          ],
          'include_dirs': [
            'third_party/wtl/include',
          ],
          'sources!': [
            'common/file_descriptor_set_unittest.cc',
            'common/net/url_util_unittest.cc',
          ],
          'dependencies': [
            'views',
          ],
        }, { # else: OS != "win"
          'sources!': [
            'browser/back_forward_menu_model_unittest.cc',
            'browser/bookmarks/bookmark_drag_data_unittest.cc',
            'browser/bookmarks/bookmark_folder_tree_model_unittest.cc',
            'browser/bookmarks/bookmark_table_model_unittest.cc',
            'browser/browser_commands_unittest.cc',
            'browser/download/download_manager_unittest.cc',
            'browser/extensions/user_script_master_unittest.cc',
            'browser/importer/firefox_importer_unittest.cc',
            'browser/importer/importer_unittest.cc',
            'browser/login_prompt_unittest.cc',
            'browser/navigation_controller_unittest.cc',
            'browser/password_manager/encryptor_unittest.cc',
            'browser/password_manager/password_form_manager_unittest.cc',
            'browser/printing/page_number_unittest.cc',
            'browser/printing/page_overlays_unittest.cc',
            'browser/printing/print_job_unittest.cc',
            'browser/rlz/rlz_unittest.cc',
            'browser/sessions/session_backend_unittest.cc',
            'browser/sessions/session_service_test_helper.cc',
            'browser/sessions/session_service_test_helper.h',
            'browser/sessions/session_service_unittest.cc',
            'browser/tabs/tab_strip_model_unittest.cc',
            'browser/views/bookmark_editor_view_unittest.cc',
            'browser/views/find_bar_win_unittest.cc',
            'browser/views/keyword_editor_view_unittest.cc',
            'browser/visitedlink_unittest.cc',
            'browser/webdata/web_database_unittest.cc',
            'browser/window_sizer_unittest.cc',
            'common/chrome_plugin_unittest.cc',
            'common/gfx/emf_unittest.cc',
            'common/gfx/icon_util_unittest.cc',
            'common/net/url_util_unittest.cc',
            'common/os_exchange_data_unittest.cc',
            'common/pref_service_unittest.cc',
            'renderer/render_view_unittest.cc',
            'test/browser_with_test_window_test.cc',
            'test/browser_with_test_window_test.h',
            'test/in_process_browser_test.cc',
            'test/in_process_browser_test.h',
            'test/test_notification_tracker.cc',
            'test/test_notification_tracker.h',
            'test/ui_test_utils.cc',
            'test/ui_test_utils.h',
            'views/controls/label_unittest.cc',
            'views/controls/table/table_view_unittest.cc',
            'views/focus/focus_manager_unittest.cc',
            'views/grid_layout_unittest.cc',
            'views/view_unittest.cc',
          ],
        }],
      ],
    },
    {
      'target_name': 'startup_tests',
      'type': 'executable',
      'dependencies': [
        'app',
        'browser',
        'common',
        'resources',
        'test_support_ui',
        '../base/base.gyp:base',
        '../skia/skia.gyp:skia',
        '../testing/gtest.gyp:gtest',
      ],
      'sources': [
        'test/startup/feature_startup_test.cc',
        'test/startup/startup_test.cc',
        'tools/build/win/precompiled.cc',
        'tools/build/win/precompiled.h',
      ],
      'conditions': [
        ['OS=="linux"', {
          'dependencies': [
            '../build/linux/system.gyp:gtk',
          ],
        }],
        ['OS!="win"', {
          'sources!': [
            'test/startup/feature_startup_test.cc',
            'tools/build/win/precompiled.cc',
            'tools/build/win/precompiled.h',
          ],
        }],
      ],
    },
  ],
  'conditions': [
    ['OS=="linux"', {
      'targets': [
        {
          'target_name': 'convert_dict',
          'type': 'executable',
          'dependencies': [
            '../base/base.gyp:base',
            'third_party/hunspell/hunspell.gyp:hunspell',
          ],
          'sources': [
            'tools/convert_dict/aff_reader.cc',
            'tools/convert_dict/aff_reader.h',
            'tools/convert_dict/convert_dict.cc',
            'tools/convert_dict/dic_reader.cc',
            'tools/convert_dict/dic_reader.h',
            'tools/convert_dict/hunspell_reader.cc',
            'tools/convert_dict/hunspell_reader.h',
          ],
        },
        {
          'target_name': 'flush_cache',
          'type': 'executable',
          'dependencies': [
            '../base/base.gyp:base',
          ],
          'sources': [
            'tools/perf/flush_cache/flush_cache.cc',
          ],
        },
      ],
    }],
    ['OS=="mac"',
      # On Mac only, add a project target called "package_app" that only
      # runs a shell script (package_chrome.sh).
      { 'targets': [
        {
          'target_name': 'package_app',
          # do NOT place this in the 'all' list; most won't want it.
          # In gyp, booleans are 0/1 not True/False.
          'suppress_wildcard': 1,
          'type': 'none',
          'dependencies': [
            'app',
          ],
          'actions': [
            {
              'inputs': [],
              'outputs': [],
              'action_name': 'package_chrome',
              'action': ['tools/mac/package_chrome.sh' ],
            },
          ],  # 'actions'
        },
      ]
    }, { # else: OS != "mac"
      'targets': [
        {
          'target_name': 'page_cycler_tests',
          'type': 'executable',
          'dependencies': [
            'resources',
            'test_support_ui',
            '../base/base.gyp:base',
            '../skia/skia.gyp:skia',
            '../testing/gtest.gyp:gtest',
          ],
          'sources': [
            'test/page_cycler/page_cycler_test.cc',
            'tools/build/win/precompiled.cc',
            'tools/build/win/precompiled.h',
          ],
          'conditions': [
            ['OS!="win"', {
              'dependencies': [
                '../build/linux/system.gyp:gtk',
              ],
              'sources!': [
                'tools/build/win/precompiled.cc',
                'tools/build/win/precompiled.h',
              ],
            }],
          ],
        },
        {
          'target_name': 'perf_tests',
          'type': 'executable',
          'dependencies': [
            'browser',
            'common',
            'resources',
            '../base/base.gyp:base',
            '../base/base.gyp:test_support_base',
            '../skia/skia.gyp:skia',
            '../testing/gtest.gyp:gtest',
          ],
          'sources': [
            'browser/visitedlink_perftest.cc',
            'test/perf/perftests.cc',
            'test/perf/url_parse_perftest.cc',
          ],
          'conditions': [
            ['OS=="linux"', {
              'dependencies': [
                '../build/linux/system.gyp:gtk',
              ],
              'sources!': [
                # TODO(port):
                'browser/visitedlink_perftest.cc',
              ],
            }],
          ],
        },
      ],
    }],  # OS!="mac"
    ['OS=="win" or OS=="linux"',
      { 'targets': [
        {
          'target_name': 'views',
          'type': 'static_library',
          'dependencies': [
            'common',
            'resources',
            '../media/media.gyp:media',
            '../skia/skia.gyp:skia',
            '../third_party/icu38/icu38.gyp:icui18n',
            '../third_party/icu38/icu38.gyp:icuuc',
            '../third_party/libxml/libxml.gyp:libxml',
            '../third_party/npapi/npapi.gyp:npapi',
            'third_party/hunspell/hunspell.gyp:hunspell',
            '../webkit/webkit.gyp:glue',
          ],
          'sources': [
            # All .cc, .h under views, except unittests
            'views/accelerator.cc',
            'views/accelerator.h',
            'views/accessibility/view_accessibility.cc',
            'views/accessibility/view_accessibility.h',
            'views/accessibility/view_accessibility_wrapper.cc',
            'views/accessibility/view_accessibility_wrapper.h',
            'views/background.cc',
            'views/background.h',
            'views/border.cc',
            'views/border.h',
            'views/controls/button/button.cc',
            'views/controls/button/button.h',
            'views/controls/button/button_dropdown.cc',
            'views/controls/button/button_dropdown.h',
            'views/controls/button/checkbox.cc',
            'views/controls/button/checkbox.h',
            'views/controls/button/custom_button.cc',
            'views/controls/button/custom_button.h',
            'views/controls/button/image_button.cc',
            'views/controls/button/image_button.h',
            'views/controls/button/menu_button.cc',
            'views/controls/button/menu_button.h',
            'views/controls/button/native_button.cc',
            'views/controls/button/native_button.h',
            'views/controls/button/native_button_win.cc',
            'views/controls/button/native_button_win.h',
            'views/controls/button/native_button_wrapper.h',
            'views/controls/button/radio_button.cc',
            'views/controls/button/radio_button.h',
            'views/controls/button/text_button.cc',
            'views/controls/button/text_button.h',
            'views/controls/combo_box.cc',
            'views/controls/combo_box.h',
            'views/controls/hwnd_view.cc',
            'views/controls/hwnd_view.h',
            'views/controls/image_view.cc',
            'views/controls/image_view.h',
            'views/controls/label.cc',
            'views/controls/label.h',
            'views/controls/link.cc',
            'views/controls/link.h',
            'views/controls/menu/chrome_menu.cc',
            'views/controls/menu/chrome_menu.h',
            'views/controls/menu/controller.h',
            'views/controls/menu/menu.cc',
            'views/controls/menu/menu.h',
            'views/controls/menu/view_menu_delegate.h',
            'views/controls/message_box_view.cc',
            'views/controls/message_box_view.h',
            'views/controls/native_control.cc',
            'views/controls/native_control.h',
            'views/controls/native_control_win.cc',
            'views/controls/native_control_win.h',
            'views/controls/scroll_view.cc',
            'views/controls/scroll_view.h',
            'views/controls/scrollbar/bitmap_scroll_bar.cc',
            'views/controls/scrollbar/bitmap_scroll_bar.h',
            'views/controls/scrollbar/native_scroll_bar.cc',
            'views/controls/scrollbar/native_scroll_bar.h',
            'views/controls/scrollbar/scroll_bar.cc',
            'views/controls/scrollbar/scroll_bar.h',
            'views/controls/separator.cc',
            'views/controls/separator.h',
            'views/controls/single_split_view.cc',
            'views/controls/single_split_view.h',
            'views/controls/tabbed_pane.cc',
            'views/controls/tabbed_pane.h',
            'views/controls/table/group_table_view.cc',
            'views/controls/table/group_table_view.h',
            'views/controls/table/table_view.cc',
            'views/controls/table/table_view.h',
            'views/controls/text_field.cc',
            'views/controls/text_field.h',
            'views/controls/throbber.cc',
            'views/controls/throbber.h',
            'views/controls/tree/tree_model.h',
            'views/controls/tree/tree_node_iterator.h',
            'views/controls/tree/tree_node_model.h',
            'views/controls/tree/tree_view.cc',
            'views/controls/tree/tree_view.h',
            'views/event.cc',
            'views/event.h',
            'views/event_gtk.cc',
            'views/event_win.cc',
            'views/fill_layout.cc',
            'views/fill_layout.h',
            'views/focus/external_focus_tracker.cc',
            'views/focus/external_focus_tracker.h',
            'views/focus/focus_manager.cc',
            'views/focus/focus_manager.h',
            'views/focus/view_storage.cc',
            'views/focus/view_storage.h',
            'views/grid_layout.cc',
            'views/grid_layout.h',
            'views/layout_manager.cc',
            'views/layout_manager.h',
            'views/painter.cc',
            'views/painter.h',
            'views/repeat_controller.cc',
            'views/repeat_controller.h',
            'views/view.cc',
            'views/view.h',
            'views/view_constants.cc',
            'views/view_constants.h',
            'views/view_gtk.cc',
            'views/view_win.cc',
            'views/widget/accelerator_handler.cc',
            'views/widget/accelerator_handler.h',
            'views/widget/aero_tooltip_manager.cc',
            'views/widget/aero_tooltip_manager.h',
            'views/widget/hwnd_notification_source.h',
            'views/widget/root_view.cc',
            'views/widget/root_view.h',
            'views/widget/root_view_drop_target.cc',
            'views/widget/root_view_drop_target.h',
            'views/widget/root_view_gtk.cc',
            'views/widget/root_view_win.cc',
            'views/widget/tooltip_manager.cc',
            'views/widget/tooltip_manager.h',
            'views/widget/widget.h',
            'views/widget/widget_gtk.cc',
            'views/widget/widget_gtk.h',
            'views/widget/widget_win.cc',
            'views/widget/widget_win.h',
            'views/window/app_modal_dialog_delegate.h',
            'views/window/client_view.cc',
            'views/window/client_view.h',
            'views/window/custom_frame_view.cc',
            'views/window/custom_frame_view.h',
            'views/window/dialog_client_view.cc',
            'views/window/dialog_client_view.h',
            'views/window/dialog_delegate.cc',
            'views/window/dialog_delegate.h',
            'views/window/native_frame_view.cc',
            'views/window/native_frame_view.h',
            'views/window/non_client_view.cc',
            'views/window/non_client_view.h',
            'views/window/window.h',
            'views/window/window_delegate.cc',
            'views/window/window_delegate.h',
            'views/window/window_resources.h',
            'views/window/window_win.cc',
            'views/window/window_win.h',
          ],
          'conditions': [
            ['OS=="linux"', {
              'dependencies': [
                '../build/linux/system.gyp:gtk',
              ],
              'sources!': [
                'views/accelerator.cc',
                'views/accessibility/accessible_wrapper.cc',
                'views/accessibility/view_accessibility.cc',
                'views/controls/scrollbar/bitmap_scroll_bar.cc',
                'views/controls/button/image_button.cc',
                'views/controls/button/button_dropdown.cc',
                'views/controls/button/checkbox.cc',
                'views/controls/menu/chrome_menu.cc',
                'views/controls/combo_box.cc',
                'views/focus/focus_manager.cc',
                'views/controls/table/group_table_view.cc',
                'views/controls/hwnd_view.cc',
                'views/controls/link.cc',
                'views/controls/menu/menu.cc',
                'views/controls/button/menu_button.cc',
                'views/controls/message_box_view.cc',
                'views/controls/button/native_button.cc',
                'views/controls/native_control.cc',
                'views/controls/scrollbar/native_scroll_bar.cc',
                'views/controls/button/radio_button.cc',
                'views/resize_corner.cc',
                'views/controls/separator.cc',
                'views/controls/single_split_view.cc',
                'views/controls/tabbed_pane.cc',
                'views/controls/table/table_view.cc',
                'views/controls/text_field.cc',
                'views/controls/tree/tree_view.cc',
                'views/event_win.cc',
                'views/widget/accelerator_handler.cc',
                'views/widget/aero_tooltip_manager.cc',
                'views/widget/root_view_drop_target.cc',
                'views/widget/tooltip_manager.cc',
                'views/window/client_view.cc',
                'views/window/custom_frame_view.cc',
                'views/window/dialog_delegate.cc',
                'views/window/dialog_client_view.cc',
                'views/window/native_frame_view.cc',
                'views/window/non_client_view.cc',
                'views/window/window_delegate.cc',
              ],
            }],
            ['OS=="win"', {
              'defines': [
                '__STD_C',
                '_CRT_SECURE_NO_DEPRECATE',
                '_SCL_SECURE_NO_DEPRECATE',
              ],
              'include_dirs': [
                'third_party/wtl/include',
              ],
            },],
            ['OS=="linux"', {
              'sources!': [
                'views/accelerator.cc',
                'views/accessibility/accessible_wrapper.cc',
                'views/accessibility/view_accessibility.cc',
                'views/accessibility/view_accessibility_wrapper.cc',
                'views/controls/scrollbar/bitmap_scroll_bar.cc',
                'views/controls/button/image_button.cc',
                'views/controls/button/button_dropdown.cc',
                'views/controls/button/checkbox.cc',
                'views/controls/menu/chrome_menu.cc',
                'views/controls/combo_box.cc',
                'views/focus/focus_manager.cc',
                'views/controls/table/group_table_view.cc',
                'views/controls/hwnd_view.cc',
                'views/controls/link.cc',
                'views/controls/menu/menu.cc',
                'views/controls/button/menu_button.cc',
                'views/controls/message_box_view.cc',
                'views/controls/button/native_button.cc',
                'views/controls/native_control.cc',
                'views/controls/scrollbar/native_scroll_bar.cc',
                'views/controls/button/radio_button.cc',
                'views/resize_corner.cc',
                'views/controls/separator.cc',
                'views/controls/single_split_view.cc',
                'views/controls/tabbed_pane.cc',
                'views/controls/table/table_view.cc',
                'views/controls/text_field.cc',
                'views/controls/tree/tree_view.cc',
                'views/widget/accelerator_handler.cc',
                'views/widget/aero_tooltip_manager.cc',
                'views/widget/root_view_drop_target.cc',
                'views/widget/tooltip_manager.cc',
                'views/widget/widget_win.cc',
                'views/window/client_view.cc',
                'views/window/custom_frame_view.cc',
                'views/window/dialog_delegate.cc',
                'views/window/dialog_client_view.cc',
                'views/window/native_frame_view.cc',
                'views/window/non_client_view.cc',
                'views/window/window_delegate.cc',
                'views/window/window_win.cc',
              ],
            }],
          ],
        },
      ],
    }], # OS=="win" or OS=="linux"
    ['OS=="win"',
      { 'targets': [
        {
          'target_name': 'plugin',
          'type': 'static_library',
          'dependencies': [
            'common',
            'resources',
            '../media/media.gyp:media',
            '../skia/skia.gyp:skia',
            '../third_party/icu38/icu38.gyp:icui18n',
            '../third_party/icu38/icu38.gyp:icuuc',
            '../third_party/libxml/libxml.gyp:libxml',
            '../third_party/npapi/npapi.gyp:npapi',
            'third_party/hunspell/hunspell.gyp:hunspell',
            '../webkit/webkit.gyp:glue',
          ],
          'include_dirs': [
            '<(INTERMEDIATE_DIR)',
          ],
          'sources': [
            # All .cc, .h, .m, and .mm files under browser except for tests and
            # mocks.
            'plugin/chrome_plugin_host.cc',
            'plugin/chrome_plugin_host.h',
            'plugin/npobject_proxy.cc',
            'plugin/npobject_proxy.h',
            'plugin/npobject_stub.cc',
            'plugin/npobject_stub.h',
            'plugin/npobject_util.cc',
            'plugin/npobject_util.h',
            'plugin/plugin_channel.cc',
            'plugin/plugin_channel.h',
            'plugin/plugin_channel_base.cc',
            'plugin/plugin_channel_base.h',
            'plugin/plugin_main.cc',
            'plugin/plugin_process.cc',
            'plugin/plugin_process.h',
            'plugin/plugin_thread.cc',
            'plugin/plugin_thread.h',
            'plugin/webplugin_delegate_stub.cc',
            'plugin/webplugin_delegate_stub.h',
            'plugin/webplugin_proxy.cc',
            'plugin/webplugin_proxy.h',
          ],
          # These are layered in conditionals in the event other platforms
          # end up using this module as well.
          'conditions': [
            ['OS=="win"', {
              'defines': [
                '__STD_C',
                '_CRT_SECURE_NO_DEPRECATE',
                '_SCL_SECURE_NO_DEPRECATE',
              ],
              'include_dirs': [
                'third_party/wtl/include',
              ],
            },],
          ],
        },
        {
          'target_name': 'worker',
          'type': 'static_library',
          'dependencies': [
            '../base/base.gyp:base',
            '../webkit/webkit.gyp:webkit',
          ],
          'sources': [
            'tools/build/win/precompiled.cc',
            'tools/build/win/precompiled.h',

            'worker/webworkerclient_proxy.cc',
            'worker/webworkerclient_proxy.h',
            'worker/worker_main.cc',
            'worker/worker_process.cc',
            'worker/worker_process.h',
            'worker/worker_thread.cc',
            'worker/worker_thread.h',
            'worker/worker_webkitclient_impl.cc',
            'worker/worker_webkitclient_impl.h',
          ],
          'include_dirs': [
            '..',
          ],
          'configurations': {
            'Debug': {
              'msvs_precompiled_header': 'tools/build/win/precompiled.h',
              'msvs_precompiled_source': 'tools/build/win/precompiled.cc',
            },
          },
        },
      ]},  # 'targets'
    ],  # OS=="win"
  ],  # 'conditions'
}
