<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>History Test Page 21</title>
<script type="text/javascript" src="HistoryHelper.js"></script>
</head>

<body onload="onLoad();">
<div id="statusPanel" style="border: 1px solid red; width: 100%">
History Test Page 21....
</div>
</body>

<script type="text/javascript">

function onLoad() {
  // Move to page 22 after 6 sec, to mimic user-initiated navigation.
  setTimeout(OnInitialLoad, 6000);
  return true;
}

function OnInitialLoad() {
  if (window.history.length != 2) {
    onFailure("History_Length_Test_21", 1,
              "History length mismatch on initial load at page 21: " +
              window.history.length);
    return false;
  }
  // Redirect to page 22.
  window.location.href = "history_length_test_page_22.html";
  return true;
}

</script>
</html>