<html>
  <head>
    <title>Blur test</title>
    <script>
      function buildPopupWindow() {
        var w = window.open("", 'popupwindow','width=300,height=300,toolbar=no,' +
                            'menubar=no,scrollbars=np,resizable=yes,' +
                            'scrollbars=np,location=no,directories=no,status=no')
        var d = w.document;
        d.open();
        d.write("<title>Shouldn't have onblur called</title><body " + 
                "onblur='self.close()'><center>Closed?</center></body>")
        d.close();
      }
    </script>
  </head>
<body onClick="buildPopupWindow();">
<h1>Blur test</h1>
<p>This tests that a created popup window doesn't immediately receive a blur
event because of bad window handling code. For this test to pass, the onblur=""
handler in the popup must not be called and the window count must remain at two
for a few seconds.</p>
</body>
</html>
